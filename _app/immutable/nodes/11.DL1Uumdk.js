import"../chunks/DsnmJJEf.js";import{p as Ee,j as mt,g as u,a as f,b as Fe,u as M,f as b,c as a,r as t,i as ne,h as V,t as G,e as ht,s as e,$ as yt}from"../chunks/p4dYvpg6.js";import{d as ft,s as ce,a as bt}from"../chunks/T2Bmc5lN.js";import{i as He}from"../chunks/36Dr0qmW.js";import{e as Ge}from"../chunks/CS60pbwF.js";import{h as _t}from"../chunks/COZkYLhp.js";import{s as Ue}from"../chunks/Cq4yWqvx.js";import{M as O}from"../chunks/BYYwbIbG.js";import{c as Ct,u as kt,W as I,B as Ot,L as wt}from"../chunks/xh2F44ca.js";import{W as Ye}from"../chunks/DblSi6A9.js";import{I as R}from"../chunks/5xWOmKaz.js";import"../chunks/BhIsClV-.js";import{p as T}from"../chunks/OQgd7Oh0.js";import{S as Wt}from"../chunks/xICVd9uM.js";import{b as Pt}from"../chunks/vwVNdKjP.js";import{a as Dt}from"../chunks/CuRQ2e7u.js";import{c as St}from"../chunks/Bq9a2B43.js";import{b as At}from"../chunks/P7rPqgRT.js";function Lt(_){const{themeColors:r,unit:g,decimalPlaces:m,cutout:p="60%",showLegend:w=!0}=_;return{responsive:!0,maintainAspectRatio:!1,cutout:p,animation:Ct(),plugins:{legend:{display:w,position:"bottom",labels:{color:r.text,padding:16,usePointStyle:!0,pointStyle:"circle",font:{size:12}}},tooltip:{backgroundColor:r.tooltipBg,titleColor:r.text,bodyColor:r.text,borderColor:r.tooltipBorder,borderWidth:1,padding:12,cornerRadius:8,displayColors:!0,boxWidth:12,boxHeight:12,boxPadding:6,usePointStyle:!0,callbacks:{label:h=>{const W=h.label||"",n=h.parsed;if(n==null)return W;const C=h.dataset.data.reduce((k,S)=>k+(S??0),0),P=C>0?(n/C*100).toFixed(1):"0.0";return`${W}: ${n.toFixed(m)} ${g} (${P}%)`}}}}}}function Tt(_){const{label:r,data:g,colors:m,hoverOffset:p=4}=_;return{label:r,data:g,backgroundColor:m,hoverOffset:p}}var Bt=b('<div class="flex h-full items-center justify-center"><p class="text-tertiary text-sm">データがありません</p></div>'),Mt=b('<canvas class="h-full w-full"></canvas>'),It=b('<div class="relative h-full w-full"><!></div>');function Ke(_,r){Ee(r,!0);const g={line:{light:"rgb(107, 114, 128)",dark:"rgb(156, 163, 175)"},fill:{light:"rgba(107, 114, 128, 0.1)",dark:"rgba(156, 163, 175, 0.15)"}};let m=T(r,"unit",3,""),p=T(r,"cutout",3,"60%"),w=T(r,"showLegend",3,!0),h=T(r,"decimalPlaces",3,1),W=T(r,"chartColors",3,g),n=ne(void 0);const D=M(()=>Dt()),C=M(()=>St(W(),u(D))),P=M(()=>Lt({themeColors:u(C),unit:m(),decimalPlaces:h(),cutout:p(),showLegend:w()})),k=kt(()=>({canvas:u(n),id:r.id,chartType:"doughnut"})),S=M(()=>u(n)!==void 0&&r.labels.length>0&&r.values.length>0);mt(()=>{if(u(S)){const o=Tt({label:r.title,data:r.values,colors:r.colors});k.renderOrUpdate(r.labels,o,u(P))}});var A=It(),Y=a(A);{var K=o=>{var x=Bt();f(o,x)},E=o=>{var x=Mt();Pt(x,L=>V(n,L),()=>u(n)),G(()=>Ue(x,"id",r.id)),f(o,x)};He(Y,o=>{r.labels.length===0||r.values.length===0?o(K):o(E,!1)})}t(A),f(_,A),Fe()}var Rt=b('<div class="space-y-1"><p class="text-tertiary text-[10px]"> </p> <!></div>'),Vt=b('<div class="max-w-md"><!></div>'),Gt=b('<button type="button" class="text-secondary hover:text-primary text-xs underline">カードを再表示</button>'),Yt=b('<div class="space-y-2"><p class="text-tertiary text-[10px]"> </p> <div class="h-48 overflow-hidden rounded-lg"><!></div></div>'),Kt=b('<div class="container mx-auto max-w-5xl space-y-16 p-6 pb-20"><div><h2 class="text-primary text-2xl font-bold">Card コンポーネント一覧</h2> <p class="text-secondary mt-1 text-sm"><code class="bg-surface-secondary rounded px-1.5 py-0.5 font-mono text-xs">src/lib/components/card/</code> 配下の全カードを用途別プレビュー（開発用）</p></div> <section class="space-y-6"><div><h3 class="text-primary text-lg font-semibold">MetricCard</h3> <p class="text-secondary mt-0.5 text-xs">単一KPI指標カード — board タブ・サイネージ共用</p></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">レイアウト</p> <div class="grid grid-cols-1 gap-4 sm:grid-cols-3"><div class="space-y-1"><p class="text-tertiary text-[10px]">vertical-left（デフォルト）</p> <!></div> <div class="space-y-1"><p class="text-tertiary text-[10px]">vertical-center（中央揃え）</p> <!></div> <div class="space-y-1"><p class="text-tertiary text-[10px]">vertical-right（右揃え）</p> <!></div></div></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">ゲージバー</p> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div class="space-y-1"><p class="text-tertiary text-[10px]">gaugeValue=91 / gaugeColor="blue"</p> <!></div> <div class="space-y-1"><p class="text-tertiary text-[10px]">gaugeValue=76 / gaugeColor="green"</p> <!></div></div></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">バリアント</p> <div class="grid grid-cols-2 gap-4"></div></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase"> </p> <div class="max-w-xs"><!></div></div></section> <section class="space-y-6"><div><h3 class="text-primary text-lg font-semibold">WidgetGraphCard</h3> <p class="text-secondary mt-0.5 text-xs">折れ線グラフカード — board タブのグラフ表示用</p></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">デフォルト（旧 large）</p> <!></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">compact + class="h-[320px] md:h-[360px] p-3" + onClose</p> <!></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">compact + class="h-[320px] p-3" + variant="dev"</p> <div class="max-w-xs"><!></div></div></section> <section class="space-y-6"><div><h3 class="text-primary text-lg font-semibold">WidgetOccupancyStackedInfoCard</h3> <p class="text-secondary mt-0.5 text-xs">稼働率ヒートマップカード — 詳細は <a class="text-blue-500 underline hover:text-blue-600">/demo/occupancy</a></p></div> <div class="grid grid-cols-1 gap-6 sm:grid-cols-2"><div class="space-y-2"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">2週分（トグルなし）</p> <div class="rounded-lg border border-gray-200 dark:border-gray-700"><!></div></div> <div class="space-y-2"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">6週分（トグルあり）</p> <div class="rounded-lg border border-gray-200 dark:border-gray-700"><!></div></div></div></section> <section class="space-y-6"><div><h3 class="text-primary text-lg font-semibold">InfoCard</h3> <p class="text-secondary mt-0.5 text-xs">お知らせ・水曜会リストカード — board タブ用</p></div> <div class="grid grid-cols-1 gap-6 lg:grid-cols-2"><div class="space-y-2"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">type="suiyokai"（水曜会）</p> <!></div> <div class="space-y-2"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">type="announcement"（お知らせ）</p> <!></div> <div class="space-y-2"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">loading=true</p> <!></div> <div class="space-y-2"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">空状態（items=[]）</p> <!></div></div></section> <section class="space-y-6"><div><h3 class="text-primary text-lg font-semibold">Chart コンポーネント</h3> <p class="text-secondary mt-0.5 text-xs">BarChart / DoughnutChart / Stepped LineChart — 直接利用＆WidgetGraphCard経由</p></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">BarChart（WidgetGraphCard 経由 — chartType="bar"）</p> <!></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">BarChart（直接利用 — グレースケール）</p> <div class="card-base flex h-[320px] flex-col p-4"><h4 class="text-primary mb-2 text-center text-base font-bold">病床稼働率（Bar）</h4> <div class="min-h-0 flex-1"><!></div></div></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">DoughnutChart（カテゴリデータ — グレースケール）</p> <div class="grid grid-cols-1 gap-6 sm:grid-cols-2"><div class="card-base flex h-[360px] flex-col p-4"><h4 class="text-primary mb-2 text-center text-base font-bold">病棟別患者数</h4> <div class="min-h-0 flex-1"><!></div></div> <div class="card-base flex h-[360px] flex-col p-4"><h4 class="text-primary mb-2 text-center text-base font-bold">DoughnutChart（凡例非表示）</h4> <div class="min-h-0 flex-1"><!></div></div></div></div> <div class="space-y-3"><p class="text-tertiary text-xs font-semibold tracking-widest uppercase">LineChart（stepped — 階段状折れ線）</p> <div class="card-base flex h-[320px] flex-col p-4"><h4 class="text-primary mb-2 text-center text-base font-bold">病床稼働率（Stepped）</h4> <div class="min-h-0 flex-1"><!></div></div></div></section> <section class="space-y-6"><div><h3 class="text-primary text-lg font-semibold">SinageClockCard</h3> <p class="text-secondary mt-0.5 text-xs">時計カード — サイネージ専用（リアルタイム更新）</p></div> <div class="grid grid-cols-1 gap-4 sm:grid-cols-3"></div></section></div>');function ia(_,r){Ee(r,!0);let g=ne(0);function m(s,i,d){const l=[];let c=i;for(let v=29;v>=0;v--){const y=new Date(2026,1,25-v),B=`${y.getFullYear()}/${String(y.getMonth()+1).padStart(2,"0")}/${String(y.getDate()).padStart(2,"0")}`;c=Math.max(0,c+(Math.random()-.5)*d),l.push({日付:B,[s]:Math.round(c*10)/10})}return l}const p=m("稼働率",88,6),w=m("新入院",8,3),h={order:1,id:"demo-occupancy-rate",title:"病床稼働率",dataKey:"稼働率",color:"blue",chartColors:{line:{light:"59, 130, 246",dark:"96, 165, 250"},fill:{light:"59, 130, 246",dark:"96, 165, 250"}},unit:"%",maxY:100,decimalPlaces:1},W={order:2,id:"demo-new-patients",title:"新入院患者数",dataKey:"新入院",color:"green",chartColors:{line:{light:"16, 185, 129",dark:"52, 211, 153"},fill:{light:"16, 185, 129",dark:"52, 211, 153"}},unit:"名",maxY:20,decimalPlaces:0},n={order:3,id:"demo-new-patients-bar",title:"新入院患者数（Bar）",dataKey:"新入院",color:"green",chartColors:{line:{light:"107, 114, 128",dark:"156, 163, 175"},fill:{light:"107, 114, 128",dark:"156, 163, 175"}},unit:"名",maxY:20,decimalPlaces:0,chartType:"bar",stepSize:5},D=["A病棟","B病棟","ICU","外来"],C=[42,35,12,28],P=["rgb(107, 114, 128)","rgb(156, 163, 175)","rgb(75, 85, 99)","rgb(209, 213, 219)"];let k=ne(!0);const S=[{date:16,dayOfWeek:0,used:0,isOpen:!1},{date:17,dayOfWeek:1,used:34,isOpen:!0},{date:18,dayOfWeek:2,used:37,isOpen:!0},{date:19,dayOfWeek:3,used:39,isOpen:!0},{date:20,dayOfWeek:4,used:36,isOpen:!0},{date:21,dayOfWeek:5,used:31,isOpen:!0},{date:22,dayOfWeek:6,used:28,isOpen:!0},{date:23,dayOfWeek:0,used:0,isOpen:!1},{date:24,dayOfWeek:1,used:35,isOpen:!0},{date:25,dayOfWeek:2,used:40,isOpen:!0},{date:26,dayOfWeek:3,used:40,isOpen:!0},{date:27,dayOfWeek:4,used:38,isOpen:!0},{date:28,dayOfWeek:5,used:33,isOpen:!0},{date:1,dayOfWeek:6,used:0,isOpen:!1}];function A(s,i){const d=[];let l=1,c=1;for(let v=0;v<s;v++)for(let y=0;y<7;y++){const B=c!==0,xt=B?Math.min(i,Math.round(i*(.6+Math.random()*.45))):0;d.push({date:(l-1)%31+1,dayOfWeek:c,used:xt,isOpen:B}),l++,c=(c+1)%7}return d}const Y=A(6,40),K=[{title:"褥瘡対策委員会からの報告"},{title:"感染対策：インフルエンザ対応について"},{title:"新棟整備スケジュールの確認"},{title:"次回研修日程：3月12日（木）午後3時"}],E=[{title:"春季健康診断のご案内",tag:"重要",timestamp:"2026/02/20"},{title:"駐車場工事に伴う通行規制",subtitle:"2月28日〜3月10日の期間、北側駐車場が閉鎖されます。",tag:"お知らせ",timestamp:"2026/02/18"},{title:"電子カルテシステムメンテナンス",tag:"システム",timestamp:"2026/02/15"}];var o=Kt();_t("1tswi85",s=>{ht(()=>{yt.title="Demo: Cards | 共愛会ダッシュボード"})});var x=e(a(o),2),L=e(a(x),2),ve=e(a(L),2),F=a(ve),Ne=e(a(F),2);O(Ne,{title:"入院患者数",value:"142名",layout:"vertical-left"}),t(F);var H=e(F,2),je=e(a(H),2);O(je,{title:"外来患者数",value:"238名",layout:"vertical-center"}),t(H);var pe=e(H,2),ze=e(a(pe),2);O(ze,{title:"病床稼働率",value:"91.3%",layout:"vertical-right"}),t(pe),t(ve),t(L);var U=e(L,2),ue=e(a(U),2),N=a(ue),qe=e(a(N),2);O(qe,{title:"病床稼働率",value:"91.3%",gaugeValue:91,gaugeColor:"blue"}),t(N);var ge=e(N,2),Je=e(a(ge),2);O(Je,{title:"リハ実施率",value:"76.4%",gaugeValue:76,gaugeColor:"green"}),t(ge),t(ue),t(U);var j=e(U,2),xe=e(a(j),2);Ge(xe,20,()=>[{variant:"default",label:"default"},{variant:"dev",label:"dev"}],s=>s.variant,(s,i)=>{var d=Rt(),l=a(d),c=a(l,!0);t(l);var v=e(l,2);O(v,{title:"入院患者数",value:"142名",get variant(){return i.variant}}),t(d),G(()=>ce(c,i.label)),f(s,d)}),t(xe),t(j);var me=e(j,2),z=a(me),Qe=a(z);t(z);var he=e(z,2),Xe=a(he);O(Xe,{title:"病床稼働率",value:"91.3%",badge:"NEW",gaugeValue:91,onClick:()=>V(g,u(g)+1)}),t(he),t(me),t(x);var q=e(x,2),J=e(a(q),2),Ze=e(a(J),2);I(Ze,{get graph(){return h},get data(){return p},period:30,date:null}),t(J);var Q=e(J,2),$e=e(a(Q),2);{var et=s=>{var i=Vt(),d=a(i);I(d,{get graph(){return W},get data(){return w},period:14,date:null,class:"h-[320px] p-3 md:h-[360px]",compact:!0,onClose:()=>V(k,!1)}),t(i),f(s,i)},tt=s=>{var i=Gt();bt("click",i,()=>V(k,!0)),f(s,i)};He($e,s=>{u(k)?s(et):s(tt,!1)})}t(Q);var ye=e(Q,2),fe=e(a(ye),2),at=a(fe);I(at,{get graph(){return h},get data(){return p},period:14,date:null,class:"h-[320px] p-3",compact:!0,variant:"dev",badgeText:"DEV"}),t(fe),t(ye),t(q);var X=e(q,2),Z=a(X),be=e(a(Z),2),rt=e(a(be));t(be),t(Z);var _e=e(Z,2),$=a(_e),Ce=e(a($),2),st=a(Ce);Ye(st,{title:"デイケア利用状況",get data(){return S},capacity:40,targetRate:.9}),t(Ce),t($);var ke=e($,2),Oe=e(a(ke),2),it=a(Oe);Ye(it,{title:"デイリハ利用状況",get data(){return Y},capacity:40,targetRate:.85,badge:"DEV"}),t(Oe),t(ke),t(_e),t(X);var ee=e(X,2),we=e(a(ee),2),te=a(we),dt=e(a(te),2);R(dt,{type:"suiyokai",icon:"groups",title:"水曜会議事録",get items(){return K}}),t(te);var ae=e(te,2),lt=e(a(ae),2);R(lt,{type:"announcement",icon:"campaign",title:"お知らせ",get items(){return E}}),t(ae);var re=e(ae,2),ot=e(a(re),2);R(ot,{type:"suiyokai",icon:"groups",title:"水曜会議事録",loading:!0}),t(re);var We=e(re,2),ct=e(a(We),2);R(ct,{type:"announcement",icon:"campaign",title:"お知らせ",items:[]}),t(We),t(we),t(ee);var se=e(ee,2),ie=e(a(se),2),nt=e(a(ie),2);I(nt,{get graph(){return n},get data(){return w},period:30,date:null,class:"h-[320px] p-3 md:h-[360px]",compact:!0}),t(ie);var de=e(ie,2),Pe=e(a(de),2),De=e(a(Pe),2),vt=a(De);Ot(vt,{id:"demo-bar-direct",title:"病床稼働率",dataKey:"稼働率",chartColors:{line:{light:"rgb(107, 114, 128)",dark:"rgb(156, 163, 175)"},fill:{light:"rgba(107, 114, 128, 0.1)",dark:"rgba(156, 163, 175, 0.15)"}},unit:"%",maxY:100,get data(){return p},period:14,decimalPlaces:1}),t(De),t(Pe),t(de);var le=e(de,2),Se=e(a(le),2),oe=a(Se),Ae=e(a(oe),2),pt=a(Ae);Ke(pt,{id:"demo-doughnut-1",title:"病棟別患者数",get labels(){return D},get values(){return C},get colors(){return P},unit:"名",decimalPlaces:0}),t(Ae),t(oe);var Le=e(oe,2),Te=e(a(Le),2),ut=a(Te);Ke(ut,{id:"demo-doughnut-2",title:"病棟別患者数",get labels(){return D},get values(){return C},get colors(){return P},unit:"名",showLegend:!1,decimalPlaces:0,cutout:"50%"}),t(Te),t(Le),t(Se),t(le);var Be=e(le,2),Me=e(a(Be),2),Ie=e(a(Me),2),gt=a(Ie);wt(gt,{id:"demo-line-stepped",title:"病床稼働率",dataKey:"稼働率",chartColors:{line:{light:"rgb(107, 114, 128)",dark:"rgb(156, 163, 175)"},fill:{light:"rgba(107, 114, 128, 0.1)",dark:"rgba(156, 163, 175, 0.15)"}},unit:"%",maxY:100,get data(){return p},period:30,stepped:!0,decimalPlaces:1}),t(Ie),t(Me),t(Be),t(se);var Re=e(se,2),Ve=e(a(Re),2);Ge(Ve,20,()=>[{variant:"blue",label:"blue（デフォルト）"},{variant:"orange",label:"orange"},{variant:"green",label:"green"}],s=>s.variant,(s,i)=>{var d=Yt(),l=a(d),c=a(l,!0);t(l);var v=e(l,2),y=a(v);Wt(y,{get variant(){return i.variant}}),t(v),t(d),G(()=>ce(c,i.label)),f(s,d)}),t(Ve),t(Re),t(o),G(()=>{ce(Qe,`onClick 付き（クリック回数: ${u(g)??""}）`),Ue(rt,"href",`${At??""}/demo/occupancy`)}),f(_,o),Fe()}ft(["click"]);export{ia as component};
