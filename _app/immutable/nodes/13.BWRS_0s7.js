import"../chunks/DsnmJJEf.js";import{a3 as F,W as p,a4 as G,o as J,m as K,H as L,a5 as N,p as O,t as W,g as s,a as _,b as P,i as h,e as Q,s as f,f as C,$ as R,c as v,r as d,h as u,a6 as $}from"../chunks/p4dYvpg6.js";import{e as T,s as U}from"../chunks/T2Bmc5lN.js";import{i as j}from"../chunks/36Dr0qmW.js";import{h as X}from"../chunks/COZkYLhp.js";import{r as z}from"../chunks/Cq4yWqvx.js";import{g as Y}from"../chunks/CM1W8w0u.js";import{a as Z}from"../chunks/Dn_Hm5y2.js";function A(e,l,m=l){var c=new WeakSet;F(e,"input",async r=>{var t=r?e.defaultValue:e.value;if(t=q(e)?V(t):t,m(t),p!==null&&c.add(p),await G(),t!==(t=l())){var x=e.selectionStart,o=e.selectionEnd,b=e.value.length;if(e.value=t??"",o!==null){var n=e.value.length;x===o&&o===b&&n>b?(e.selectionStart=n,e.selectionEnd=n):(e.selectionStart=x,e.selectionEnd=Math.min(o,n))}}}),(L&&e.defaultValue!==e.value||J(l)==null&&e.value)&&(m(q(e)?V(e.value):e.value),p!==null&&c.add(p)),K(()=>{var r=l();if(e===document.activeElement){var t=N??p;if(c.has(t))return}q(e)&&r===V(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function q(e){var l=e.type;return l==="number"||l==="range"}function V(e){return e===""?null:+e}var ee=C('<aside class="mb-4 rounded-md preset-filled-error-100-900 p-3 text-sm"> </aside>'),ae=C('<div class="flex min-h-screen items-center justify-center bg-[var(--color-surface-page)] p-4"><div class="w-full max-w-sm card rounded-xl bg-[var(--color-surface-card)] p-8 shadow-lg"><header class="mb-6 text-center"><h1 class="text-xl font-bold text-[var(--color-text-primary)]">共愛会ダッシュボード</h1> <p class="mt-1 text-sm text-[var(--color-text-tertiary)]">ログインしてください</p></header> <!> <form class="space-y-4"><label class="label"><span class="text-sm font-medium text-[var(--color-text-secondary)]">ユーザー名</span> <input type="text" class="input" required="" autocomplete="username"/></label> <label class="label"><span class="text-sm font-medium text-[var(--color-text-secondary)]">パスワード</span> <input type="password" class="input" required="" autocomplete="current-password"/></label> <button type="submit" class="btn w-full preset-filled-primary-500"><!></button></form></div></div>');function ve(e,l){O(l,!0);let m=h(""),c=h(""),r=h(""),t=h(!1);async function x(a){a.preventDefault(),u(r,""),u(t,!0);try{if((await Z.signIn.username({username:s(m),password:s(c)})).error){u(r,"ユーザー名またはパスワードが正しくありません");return}await Y("/board",{invalidateAll:!0})}catch{u(r,"ログインに失敗しました")}finally{u(t,!1)}}var o=ae();X("1x05zx6",a=>{Q(()=>{R.title="ログイン | 共愛会ダッシュボード"})});var b=v(o),n=f(v(b),2);{var D=a=>{var i=ee(),B=v(i,!0);d(i),W(()=>U(B,s(r))),_(a,i)};j(n,a=>{s(r)&&a(D)})}var y=f(n,2),g=v(y),w=f(v(g),2);z(w),d(g);var k=f(g,2),S=f(v(k),2);z(S),d(k);var E=f(k,2),H=v(E);{var I=a=>{var i=$("ログイン中...");_(a,i)},M=a=>{var i=$("ログイン");_(a,i)};j(H,a=>{s(t)?a(I):a(M,!1)})}d(E),d(y),d(b),d(o),W(()=>{w.disabled=s(t),S.disabled=s(t),E.disabled=s(t)}),T("submit",y,x),A(w,()=>s(m),a=>u(m,a)),A(S,()=>s(c),a=>u(c,a)),_(e,o),P()}export{ve as component};
