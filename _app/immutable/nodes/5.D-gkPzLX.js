import{r as ge}from"../chunks/DeJTOAbw.js";import{b as ve}from"../chunks/DifJxzTl.js";import{a as ue,s as be}from"../chunks/yLoyMQZm.js";import"../chunks/DduHFmmw.js";import{s as W,e as I,d as ie,a as z}from"../chunks/DnIcTvC1.js";import"../chunks/DsnmJJEf.js";import{a as h,c as x,d as o,s as _,r as l,t as T,D as r,aB as u,b0 as ye,ab as se,ad as le,a$ as fe,p as j,b as U,a9 as Y,f as L,w as pe,ae as me,z as he,e as xe,aa as ke}from"../chunks/DpxnEjv3.js";import{d as H}from"../chunks/DNqETgu4.js";import{h as we}from"../chunks/9V4sL4aC.js";import{i as M}from"../chunks/CVlXRTK-.js";import{p as V,s as _e}from"../chunks/BIVwn6KK.js";import{s as F}from"../chunks/uPQLbuGZ.js";import{e as B}from"../chunks/D1R3K8Lx.js";import{M as de}from"../chunks/BJigBDmL.js";import"../chunks/DhoOlBWV.js";const Se=async()=>(ge(302,`${ve}/board/kyoritsu`),{facilities:await ue.fetch()??[]}),Ut=Object.freeze(Object.defineProperty({__proto__:null,load:Se},Symbol.toStringTag,{value:"Module"}));var Te=x("<div><!></div>"),Ve=x('<section class="relative"><!> <div><!></div></section>');function ee(t,e){let a=V(e,"stickyHeader",3,!1),i=V(e,"headerZIndex",3,10);const s=u(()=>a()?`sticky top-0 z-[${i()}]`:"");var d=Ve(),g=o(d);{var m=n=>{var b=Te(),p=o(b);W(p,()=>e.header),l(b),T(()=>I(b,1,ie(r(s)))),h(n,b)};M(g,n=>{e.header&&n(m)})}var f=_(g,2),v=o(f);W(v,()=>e.children),l(f),l(d),h(t,d)}const R=[{id:"overview",label:"概要"},{id:"operations",label:"稼働"},{id:"patients",label:"外来・入院"},{id:"staff",label:"人員"},{id:"finance",label:"財務"}],te=R.map(t=>t.id),q=4,Ce=14,Ie="facility";var Fe=x('<span class="material-symbols-outlined text-[14px]">check</span>'),De=x('<button type="button" role="checkbox"><span aria-hidden="true"><!></span> <span> </span></button>');function oe(t,e){let a=V(e,"selected",3,!1),i=V(e,"isDisabled",3,!1),s=V(e,"onclick",3,()=>{}),d=V(e,"class",3,"");const g=u(()=>{const c="transition-all duration-200";return i()&&!a()?`${c} border-gray-300 bg-gray-100 text-gray-400 cursor-not-allowed dark:border-gray-600 dark:bg-gray-700 dark:text-gray-500`:a()?`${c} border-green-500 bg-green-50 hover:border-green-600 hover:bg-green-100 dark:border-green-400 dark:bg-green-900/20 dark:hover:border-green-500 dark:hover:bg-green-900/30`:`${c} border-gray-300 bg-white hover:border-green-400 hover:bg-green-50 dark:border-gray-600 dark:bg-gray-800 dark:hover:border-green-500 dark:hover:bg-green-900/10`}),m=u(()=>{const c="flex h-5 w-5 flex-shrink-0 items-center justify-center rounded border-2 transition-colors";return a()?`${c} border-green-500 bg-green-500 text-white hover:border-green-600 hover:bg-green-600 dark:border-green-400 dark:bg-green-400 dark:hover:border-green-500 dark:hover:bg-green-500`:i()?`${c} border-gray-300 bg-gray-100 text-gray-400 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-500`:`${c} border-gray-300 bg-white hover:border-green-400 hover:bg-green-50 dark:border-gray-600 dark:bg-gray-800 dark:hover:border-green-500 dark:hover:bg-green-900/30`}),f=u(()=>a()?`${e.label}の選択を解除`:i()?`${e.label}（選択不可）`:`${e.label}を選択`);var v=De();v.__click=function(...c){s()?.apply(this,c)};var n=o(v),b=o(n);{var p=c=>{var S=Fe();h(c,S)};M(b,c=>{a()&&c(p)})}l(n);var k=_(n,2),y=o(k,!0);l(k),l(v),T(()=>{z(v,"aria-checked",a()),z(v,"aria-disabled",i()),v.disabled=i()&&!a(),z(v,"aria-label",r(f)),I(v,1,`flex items-center gap-3 rounded-lg border-2 px-4 py-3 text-sm font-medium focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:outline-none ${r(g)??""} ${d()??""}`),I(n,1,ie(r(m))),I(k,1,`flex-1 text-center text-gray-900 dark:text-gray-100 ${a()?"font-semibold":""}`),F(y,e.label)}),h(t,v)}H(["click"]);function Ae(t,e){let a=V(e,"selected",3,!1),i=V(e,"onclick",3,()=>{});oe(t,{get label(){return e.label},get selected(){return a()},get onclick(){return i()}})}const Z="overview",Q=R.map(t=>t.id),ne=Symbol("dashboard-context"),ae=t=>t.length?t:[Z],re=(t,e)=>e===t.comparisonType?{comparisonType:e}:e==="view"?{comparisonType:"view",selectedViewIds:[t.activeTab]}:{comparisonType:"facility",activeTab:t.selectedViewIds[0]??Z},J=(t,e,a,i=!1)=>{if(t.includes(e)){if(t.length>1||!i)return t.filter(d=>d!==e)}else if(t.length<a)return[...t,e];return t},C={setComparisonType(t,e){return re(t,e)},toggleComparisonType(t){const e=t.comparisonType==="facility"?"view":"facility";return re(t,e)},setActiveTab(t){return{activeTab:t}},setDisplayDays(t){return{displayDays:t}},toggleFacility(t,e){return t.comparisonType==="view"?{selectedFacilityIds:J(t.selectedFacilityIds,e,q,!1)}:t.selectedFacilityIds.includes(e)?{selectedFacilityIds:J(t.selectedFacilityIds,e,q,!0)}:{selectedFacilityIds:[e]}},setSelectedFacilityIds(t){return{selectedFacilityIds:t}},toggleSelectAll(t){const e=t.facilities.map(s=>s.id),a=new Set(t.selectedFacilityIds);return{selectedFacilityIds:e.every(s=>a.has(s))?[]:e}},toggleView(t,e){return t.comparisonType==="facility"?{activeTab:e}:{selectedViewIds:J(t.selectedViewIds,e,q,!0)}},setSelectedViewIds(t){return{selectedViewIds:t}},toggleSelectAllViews(t){const e=new Set(t.selectedViewIds);return{selectedViewIds:Q.every(i=>e.has(i))?ae([]):Q}},clearAllSelections(t){return t.comparisonType==="facility"?{selectedFacilityIds:[]}:{selectedViewIds:ae([])}}};class Me{#e=se();get state(){return r(this.#e)}set state(e){le(this.#e,e,!0)}constructor(e){this.state=e}applyUpdate(e){Object.assign(this.state,e)}get comparisonType(){return this.state.comparisonType}get selectedFacilityIds(){return this.state.selectedFacilityIds}get activeTab(){return this.state.activeTab}get selectedViewIds(){return this.state.selectedViewIds}get displayDays(){return this.state.displayDays}get facilities(){return this.state.facilities}get selectedFacilities(){const e=new Set(this.state.selectedFacilityIds);return this.state.facilities.filter(a=>e.has(a.id))}get allSelected(){if(this.state.facilities.length===0)return!1;const e=new Set(this.state.selectedFacilityIds);return this.state.facilities.every(a=>e.has(a.id))}get sortedViewIds(){return this.state.selectedViewIds.slice().sort((e,a)=>te.indexOf(e)-te.indexOf(a))}get allViewsSelected(){const e=new Set(this.state.selectedViewIds);return Q.every(a=>e.has(a))}get facilitiesSignature(){return this.state.facilities.map(e=>e.id).join(",")}get _state(){return this.state}setComparisonType(e){this.applyUpdate(C.setComparisonType(this.state,e))}toggleComparisonType(){this.applyUpdate(C.toggleComparisonType(this.state))}setActiveTab(e){this.applyUpdate(C.setActiveTab(e))}setDisplayDays(e){this.applyUpdate(C.setDisplayDays(e))}toggleFacility(e){this.applyUpdate(C.toggleFacility(this.state,e))}setSelectedFacilityIds(e){this.applyUpdate(C.setSelectedFacilityIds(e))}toggleSelectAll(){this.applyUpdate(C.toggleSelectAll(this.state))}toggleView(e){this.applyUpdate(C.toggleView(this.state,e))}setSelectedViewIds(e){this.applyUpdate(C.setSelectedViewIds(e))}toggleSelectAllViews(){this.applyUpdate(C.toggleSelectAllViews(this.state))}clearAllSelections(){this.applyUpdate(C.clearAllSelections(this.state))}setFacilities(e){this.state.facilities=e}reset(e){Object.assign(this.state,e)}}function je(t){const e=new Me(t);return ye(ne,e),e}function $(){return fe(ne)}function Ue(t,e){return{comparisonType:Ie,selectedFacilityIds:[],activeTab:Z,selectedViewIds:[Z],displayDays:Ce,facilities:t,...e}}var Pe=x('<aside class="border-divider bg-card w-56 self-stretch border-r"><div class="sticky top-[90px] p-4"><div class="flex items-center justify-between"><h3 class="text-xs font-semibold tracking-wider text-gray-500 uppercase">ビュー</h3> <button type="button"> </button></div> <nav class="mt-4 flex flex-col gap-2"></nav></div></aside>');function Ee(t,e){j(e,!0);const a=$(),i=u(()=>a.comparisonType),s=u(()=>a.activeTab),d=u(()=>a.selectedViewIds),g=u(()=>a.allViewsSelected);var m=Pe(),f=o(m),v=o(f),n=_(o(v),2);n.__click=()=>{r(i)==="view"&&a.toggleSelectAllViews()};var b=o(n,!0);l(n),l(v);var p=_(v,2);B(p,21,()=>R,k=>k.id,(k,y)=>{const c=u(()=>r(i)==="facility"?r(s)===r(y).id:r(d).includes(r(y).id));Ae(k,{get label(){return r(y).label},get selected(){return r(c)},onclick:()=>a.toggleView(r(y).id)})}),l(p),l(f),l(m),T(()=>{I(n,1,`rounded-md px-3 py-1.5 text-xs font-medium transition-colors ${r(g)?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700"} disabled:cursor-not-allowed disabled:opacity-50`),n.disabled=r(i)!=="view",z(n,"aria-disabled",r(i)!=="view"),F(b,r(g)?"すべて解除":"すべて選択")}),h(t,m),U()}H(["click"]);function Oe(t,e){j(e,!0);let a=V(e,"selected",3,!1),i=V(e,"onclick",3,()=>{});const s=u(()=>e.facility.shortName||e.facility.name);oe(t,{get label(){return r(s)},get selected(){return a()},get onclick(){return i()},class:"facility-card"}),U()}var ze=x('<div class="mt-4 flex justify-end"><button type="button"> </button></div>'),Be=x('<div class="border-divider bg-card overflow-y-auto border-b p-4"><div class="grid grid-cols-2 gap-3 lg:grid-cols-4"></div> <!></div>');function He(t,e){j(e,!0);const a=$(),i=u(()=>a.facilities),s=u(()=>a.selectedFacilityIds),d=u(()=>a.comparisonType),g=u(()=>a.allSelected);var m=Be(),f=o(m);B(f,21,()=>r(i),b=>b.id,(b,p)=>{{let k=u(()=>r(s).includes(r(p).id));Oe(b,{get facility(){return r(p)},get selected(){return r(k)},onclick:()=>a.toggleFacility(r(p).id)})}}),l(f);var v=_(f,2);{var n=b=>{var p=ze(),k=o(p);k.__click=()=>a.toggleSelectAll();var y=o(k,!0);l(k),l(p),T(()=>{I(k,1,`rounded-md px-4 py-2 text-sm font-medium transition-colors ${r(g)?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700"}`),F(y,r(g)?"すべて解除":"すべて選択")}),h(b,p)};M(v,b=>{r(d)==="facility"&&b(n)})}l(m),h(t,m),U()}H(["click"]);var Le=x('<p class="text-tertiary mt-1 text-sm"> </p>'),Re=x('<span class="ml-3 inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800"> </span>'),Ne=x('<div class="border-divider bg-card flex h-full flex-col overflow-hidden rounded-lg border shadow-sm"><div class="border-divider bg-page border-b px-5 py-4 dark:bg-gray-700"><div class="flex items-start justify-between"><div class="flex-1"><h2 class="text-primary text-lg font-semibold"> </h2> <!></div> <!></div></div> <div class="flex-1 overflow-auto p-5"><!></div></div>');function Ge(t,e){var a=Ne(),i=o(a),s=o(i),d=o(s),g=o(d),m=o(g,!0);l(g);var f=_(g,2);{var v=y=>{var c=Le(),S=o(c,!0);l(c),T(()=>F(S,e.subtitle)),h(y,c)};M(f,y=>{e.subtitle&&y(v)})}l(d);var n=_(d,2);{var b=y=>{var c=Re(),S=o(c,!0);l(c),T(()=>F(S,e.badge)),h(y,c)};M(n,y=>{e.badge&&y(b)})}l(s),l(i);var p=_(i,2),k=o(p);W(k,()=>e.children),l(p),l(a),T(()=>F(m,e.title)),h(t,a)}var Ye=x('<div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3" role="region" aria-label="施設の主要指標"></div>');function We(t,e){j(e,!0);const a=u(()=>[{label:"使用病床数",value:`${e.facility.kpis.usedBeds} / ${e.facility.beds} 床`,gaugeValue:e.facility.kpis.usedBeds/e.facility.beds*100},{label:"外来患者数",value:`${e.facility.kpis.outpatients} 人`},{label:"入院患者数",value:`${e.facility.kpis.inpatients} 人`},{label:"平均在院日数",value:`${e.facility.kpis.avgStayDays} 日`},{label:"スタッフ稼働率",value:`${e.facility.kpis.staffUtilization} %`,gaugeValue:e.facility.kpis.staffUtilization}]);var i=Ye();B(i,21,()=>r(a),s=>s.label,(s,d)=>{de(s,{get title(){return r(d).label},get value(){return r(d).value},get gaugeValue(){return r(d).gaugeValue}})}),l(i),h(t,i),U()}function Ze(t){const{itemCount:e=0,minColumns:a=1,maxColumns:i=4}=t;{const s=Math.min(Math.max(e,a),i);return Xe(s)}}function Xe(t){switch(t){case 1:return"grid-cols-1";case 2:return"grid-cols-1 sm:grid-cols-2";case 3:return"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3";case 4:return"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4";default:return"grid-cols-1 sm:grid-cols-2"}}function Ke(t){const{columns:e,itemCount:a=0}=t;if(e==="auto"){const i=a;return i===1?"grid-cols-1":i===2?"grid-cols-1 lg:grid-cols-2":i===3?"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3":"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"}switch(e){case 1:return"grid-cols-1";case 2:return"grid-cols-1 md:grid-cols-2";case 3:return"grid-cols-1 md:grid-cols-2 xl:grid-cols-3";case 4:return"grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4";default:return"grid-cols-1 lg:grid-cols-2"}}function qe(t){return{sm:"gap-2",md:"gap-4",lg:"gap-6"}[t.gap]||"gap-4"}var Je=x('<section class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800"><h3 class="m-0 mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300"> </h3> <div></div></section>'),Qe=x('<div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3" role="region" aria-label="施設間の指標比較"></div>');function $e(t,e){j(e,!0);const a=u(()=>Ze({itemCount:e.facilities.length,maxColumns:3})),i=[{label:"使用病床数",unit:"床",getValue:d=>d.kpis.usedBeds},{label:"外来患者数",unit:"人",getValue:d=>d.kpis.outpatients},{label:"入院患者数",unit:"人",getValue:d=>d.kpis.inpatients},{label:"平均在院日数",unit:"日",getValue:d=>d.kpis.avgStayDays},{label:"スタッフ稼働率",unit:"%",getValue:d=>d.kpis.staffUtilization}];var s=Qe();B(s,21,()=>i,d=>d.label,(d,g)=>{var m=Je(),f=o(m),v=o(f,!0);l(f);var n=_(f,2);B(n,21,()=>e.facilities,b=>b.id,(b,p)=>{{let k=u(()=>be(r(p).name)),y=u(()=>r(g).getValue(r(p))),c=u(()=>r(g).unit);de(b,{get title(){return r(k)},get value(){return`${r(y)??""} ${r(c)??""}`}})}}),l(n),l(m),T(()=>{z(m,"aria-labelledby",`metric-${r(g).label??""}`),z(f,"id",`metric-${r(g).label??""}`),F(v,r(g).label),I(n,1,`grid gap-2 ${r(a)??""}`)}),h(d,m)}),l(s),h(t,s),U()}var et=x('<div class="inline-flex rounded-md shadow-sm" role="group"><button type="button"><span class="flex items-center gap-1"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> 前日24時</span></button> <button type="button"><span class="flex items-center gap-1"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> リアルタイム</span></button></div>');function tt(t,e){j(e,!0);var a=et(),i=o(a);i.__click=()=>e.onchange("previous");var s=_(i,2);s.__click=()=>e.onchange("realtime"),l(a),T(()=>{I(i,1,`rounded-l-md border border-gray-300 px-4 py-2 text-sm font-medium ${e.value==="previous"?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700"}`),I(s,1,`rounded-r-md border border-l-0 border-gray-300 px-4 py-2 text-sm font-medium ${e.value==="realtime"?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700"}`)}),h(t,a),U()}H(["click"]);var at=x('<button type="button"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> </button>');function rt(t,e){var a=at();a.__click=function(...s){e.onclick?.apply(this,s)};var i=_(o(a));l(a),T(()=>{I(a,1,`flex items-center gap-1 rounded-md px-4 py-2 text-sm font-medium transition-colors ${e.value==="facility"?"bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:hover:bg-blue-900/60":"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/40 dark:text-purple-300 dark:hover:bg-purple-900/60"}`),F(i,` ${e.value==="facility"?"施設比較":"ビュー比較"}`)}),h(t,a)}H(["click"]);var it=x('<p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> </p>'),st=x('<div class="flex flex-col items-center justify-center gap-3 p-6 text-center"><div class="rounded-full bg-gray-100 p-4 dark:bg-gray-800"><svg class="h-10 w-10 text-gray-400 dark:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div> <div><h3 class="text-lg font-semibold text-gray-900 dark:text-white"> </h3> <!></div></div>');function ce(t,e){var a=st(),i=_(o(a),2),s=o(i),d=o(s,!0);l(s);var g=_(s,2);{var m=f=>{var v=it(),n=o(v,!0);l(v),T(()=>F(n,e.description)),h(f,v)};M(g,f=>{e.description&&f(m)})}l(i),l(a),T(()=>F(d,e.title)),h(t,a)}var lt=x('<div class="flex h-full flex-col overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm"><div class="flex flex-1 items-center justify-center p-6 text-center"><!></div></div>'),dt=x('<div class="flex h-64 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-600 dark:bg-gray-800"><div class="text-center"><p class="text-secondary text-lg font-medium dark:text-gray-300"> </p> <p class="text-tertiary text-sm dark:text-gray-400">準備中</p></div></div>');function ot(t,e){j(e,!0);let a=V(e,"displayMode",3,"facility");const i=u(()=>e.facilities??(e.facility?[e.facility]:[])),s=u(()=>a()==="view"),d=u(()=>r(i).length===1),g=u(()=>r(i)[0]),m=u(()=>r(s)?R.find(y=>y.id===e.activeTab)?.label??"不明なビュー":r(d)?r(i)[0].name:`${r(i).length}施設の比較`),f=u(()=>r(s)?r(i).map(y=>y.name).join(" / "):r(d)?`${r(i)[0].type} / ${r(i)[0].beds}床`:""),v=u(()=>r(s)?"ビュー別":"施設別");var n=Y(),b=L(n);{var p=y=>{var c=lt(),S=o(c),w=o(S);ce(w,{title:"結果が表示されていません",description:"選択中の条件に一致する施設がありません。"}),l(S),l(c),h(y,c)},k=y=>{Ge(y,{get title(){return r(m)},get subtitle(){return r(f)},get badge(){return r(v)},children:(c,S)=>{var w=Y(),P=L(w);{var O=D=>{var E=Y(),N=L(E);{var G=A=>{We(A,{get facility(){return r(g)}})},K=A=>{$e(A,{get facilities(){return r(i)}})};M(N,A=>{r(d)&&r(g)?A(G):A(K,!1)})}h(D,E)},X=D=>{var E=dt(),N=o(E),G=o(N),K=o(G);l(G),pe(2),l(N),l(E),T(A=>F(K,`${A??""}タブ`),[()=>R.find(A=>A.id===e.activeTab)?.label]),h(D,E)};M(P,D=>{e.activeTab==="overview"?D(O):D(X,!1)})}h(c,w)}})};M(b,y=>{r(i).length===0?y(p):y(k,!1)})}h(t,n),U()}var nt=x("<div></div>");function ct(t,e){j(e,!0);let a=V(e,"columns",3,"auto"),i=V(e,"gap",3,"md");const s=u(()=>qe({gap:i()})),d=u(()=>Ke({columns:a(),itemCount:e.items.length}));var g=nt();B(g,21,()=>e.items,m=>m.key,(m,f)=>{var v=Y(),n=L(v);W(n,()=>e.item,()=>r(f)),h(m,v)}),l(g),T(()=>I(g,1,`grid ${r(d)??""} ${r(s)??""}`)),h(t,g),U()}var gt=x('<div class="flex h-full items-center justify-center text-center"><!></div>'),vt=x('<div class="overflow-hidden"><!></div>'),ut=x('<section id="dashboard-section" class="bg-page flex min-h-screen flex-1 flex-col"><div class="flex flex-1"><!> <div class="flex flex-1 flex-col overflow-hidden"><!> <main class="flex-1 overflow-hidden p-4 sm:p-6 lg:p-8"><!></main></div></div></section>');function bt(t,e){j(e,!0);const a=$(),i=u(()=>a.comparisonType),s=u(()=>a.selectedFacilities),d=u(()=>a.sortedViewIds),g=u(()=>a.displayDays),m=u(()=>r(s).length===0?[]:r(i)==="facility"?r(s).map(w=>({key:w.id,props:{facility:w,days:r(g),activeTab:a.activeTab,displayMode:"facility"}})):r(d).map(w=>({key:w,props:{facilities:r(s),days:r(g),activeTab:w,displayMode:"view"}})));var f=ut(),v=o(f),n=o(v);Ee(n,{});var b=_(n,2),p=o(b);He(p,{});var k=_(p,2),y=o(k);{var c=w=>{var P=gt(),O=o(P);ce(O,{title:"絞り込みが行われていません",description:"上部の施設カードを選択すると、結果パネルにメトリクスが表示されます。"}),l(P),h(w,P)},S=w=>{ct(w,{get items(){return r(m)},columns:"auto",gap:"lg",item:(O,X=me)=>{var D=vt(),E=o(D);ot(E,_e(()=>X().props)),l(D),h(O,D)},$$slots:{item:!0}})};M(y,w=>{r(s).length===0?w(c):w(S,!1)})}l(k),l(b),l(v),l(f),h(t,f),U()}var yt=x('<meta name="description" content="共愛会の4施設（戸畑共立病院、戸畑リハビリテーション病院、あやめの里、明治町クリニック）の経営指標を一元管理"/>'),ft=x('<div class="relative overflow-hidden bg-gradient-to-br from-blue-50 to-indigo-100 pt-12 pb-16 dark:from-gray-800 dark:to-gray-900"><div class="mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8"><h1 class="text-primary mb-3 text-3xl font-bold tracking-tight sm:text-4xl">おはようございます！</h1> <p class="text-secondary mb-2 text-xl sm:text-2xl">今日も、共愛会のいまが見えます</p> <p class="text-tertiary mx-auto max-w-2xl text-base sm:text-lg">毎朝8時更新。4つの施設の経営指標をひと目で把握して、<br class="hidden sm:inline"/> データに基づく意思決定をはじめましょう</p></div></div>'),pt=x('<header class="border-divider bg-card border-b px-4 py-3 shadow-sm sm:px-6 lg:px-8"><div class="flex flex-wrap items-center justify-between gap-3 sm:gap-4"><div class="flex flex-col gap-1"><h1 class="text-primary text-xl font-bold">共愛会 施設ダッシュボード</h1> <p class="text-tertiary text-sm">法人全体の経営指標を一元管理</p></div> <div class="flex flex-col items-end gap-2"><div class="flex flex-wrap items-center gap-2 sm:gap-3"><!> <!></div> <button type="button" class="rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700">すべて解除</button></div></div></header>'),mt=x("<!> <!>",1);function Pt(t,e){j(e,!0);const a=u(()=>e.data.facilities);let i=se("previous");const s=je(Ue([],{displayDays:14}));he(()=>{s.setFacilities(r(a))});function d(){s.toggleComparisonType()}function g(){s.clearAllSelections()}var m=mt();we("89g097",n=>{var b=yt();xe(()=>{ke.title="共愛会 施設ダッシュボード"}),h(n,b)});var f=L(m);ee(f,{children:(n,b)=>{var p=ft();h(n,p)},$$slots:{default:!0}});var v=_(f,2);ee(v,{stickyHeader:!0,headerZIndex:50,header:b=>{var p=pt(),k=o(p),y=_(o(k),2),c=o(y),S=o(c);tt(S,{get value(){return r(i)},onchange:O=>{le(i,O,!0)}});var w=_(S,2);rt(w,{get value(){return s.comparisonType},onclick:d}),l(c);var P=_(c,2);P.__click=g,l(y),l(k),l(p),h(b,p)},children:(b,p)=>{bt(b,{})},$$slots:{header:!0,default:!0}}),h(t,m),U()}H(["click"]);export{Pt as component,Ut as universal};
