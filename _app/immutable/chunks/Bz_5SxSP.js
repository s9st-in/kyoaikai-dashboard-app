import{g as u,s as l,r as S}from"./CuRQ2e7u.js";import{l as r,S as g}from"./BhIsClV-.js";import{o as i,n as a,l as f,_ as c,a as d}from"./DGs5A2D8.js";const p=i({theme:c(["light","dark","system"]).default("system"),gridColumns:f(4).default(4),cardSizeScale:a().min(.8).max(1.2).default(1)}),h=i({width:a().min(0),columns:a().int().min(1)});i({columnsBreakpoints:d(h).min(1),autoRows:c(["1fr","auto"]),aspectRatio:a().positive(),minColumns:a().int().min(1),maxColumns:a().int().min(1)}).refine(e=>e.minColumns<=e.maxColumns,{message:"minColumns must be <= maxColumns",path:["minColumns"]}).refine(e=>{for(let n=1;n<e.columnsBreakpoints.length;n++)if(e.columnsBreakpoints[n].width<=e.columnsBreakpoints[n-1].width)return!1;return!0},{message:"columnsBreakpoints widths must be in strictly ascending order",path:["columnsBreakpoints"]});function m(e){return`${g.SINAGE_SETTINGS_PREFIX}${e}`}function b(e,n){try{const t=m(e),s=JSON.stringify(n);l(t,s),r.debug(`[Sinage] 設定を保存: ${e}`,n)}catch(t){r.error(`[Sinage] 設定の保存に失敗: ${e}`,t)}}function B(e){try{const n=m(e),t=u(n);if(!t)return null;const s=JSON.parse(t),o=p.safeParse(s);return o.success?(r.debug(`[Sinage] 設定を読み込み: ${e}`,o.data),o.data):(r.warn(`[Sinage] 無効な設定データ: ${e}`,o.error),y(e),null)}catch(n){return r.error(`[Sinage] 設定の読み込みに失敗: ${e}`,n),null}}function y(e){try{const n=m(e);S(n),r.debug(`[Sinage] 設定をクリア: ${e}`)}catch(n){r.error(`[Sinage] 設定のクリアに失敗: ${e}`,n)}}export{B as l,b as s};
