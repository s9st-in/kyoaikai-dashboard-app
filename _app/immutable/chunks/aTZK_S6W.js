import"./DsnmJJEf.js";import"./CbAJKWx5.js";import{k as y,d as g,a as C}from"./p4dYvpg6.js";import{I as N,s as E}from"./CS60pbwF.js";import{l as T,s as M}from"./OQgd7Oh0.js";import{g as x}from"./Bq9a2B43.js";import{n as F,s as p,o as P,p as $}from"./DGs5A2D8.js";function ee(e,r){const t=T(r,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];N(e,M({name:"moon"},()=>t,{get iconNode(){return n},children:(m,R)=>{var s=y(),f=g(s);E(f,r,"default",{}),C(m,s)},$$slots:{default:!0}}))}function re(e,r){const t=T(r,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];N(e,M({name:"sun"},()=>t,{get iconNode(){return n},children:(m,R)=>{var s=y(),f=g(s);E(f,r,"default",{}),C(m,s)},$$slots:{default:!0}}))}function h(e){return e==null||!Number.isFinite(e)?"--":e}function o(e){return e==null||!Number.isFinite(e)?"--":`${(e*100).toFixed(1)}`}function D(e){return e==null||!Number.isFinite(e)?"--":(Math.floor(e*10)/10).toFixed(1)}function B(e){return e==null||!Number.isFinite(e)?"--":e.toFixed(1)}const K={value:h,percent:o,performance:D,decimal1:B};function O(e){return K[e]??h}function te(e,r){const t=O(e);return r!=null?n=>n==null?"--":`${t(n)}/${r}`:t}const I=()=>$(e=>{if(e===void 0)return e;if(e===null)return null;if(typeof e=="number")return isNaN(e)?null:e;if(typeof e=="string"){const r=e.trim();if(r==="")return null;const t=parseFloat(r);return isNaN(t)?null:t}return null},F().nullable());function L(e){const r={日付:p()};for(const t of e)t.dataType==="number"||t.dataType==="percent"?r[t.dataKey]=t.nullable?I():F():r[t.dataKey]=t.nullable?p().nullable():p();return P(r)}function G(e){let r=e.formatter;r||(r=e.dataType==="percent"?o:h);const t={id:e.dataKey,title:e.displayName,dataKey:e.dataKey,formatter:r,unit:e.unit,unitPrefix:e.unitPrefix??!1,order:e.order,timeGranularity:"daily"};return e.source&&(t.source=e.source),e.environments&&(t.environments=e.environments),e.isDev!==void 0&&(t.isDev=e.isDev),t}function v(e){if(!e.chartable)return null;if(!e.chartColor)throw new Error(`[buildGraphConfigFromDefinition] chartable=true but chartColor is missing: ${e.dataKey}`);const r={id:e.dataKey,title:e.displayName,dataKey:e.dataKey,color:e.chartColor,chartColors:x(e.chartColor),unit:e.unit,order:e.order,decimalPlaces:e.decimalPlaces??1};return e.chartMaxY!==void 0&&(r.maxY=e.chartMaxY),e.transform&&(r.transform=e.transform),e.source&&(r.source=e.source),e.environments&&(r.environments=e.environments),e.isDev!==void 0&&(r.isDev=e.isDev),r}function b(e){return e.map(G)}function _(e){return e.map(v).filter(r=>r!==null)}function S(e,r){return{allMetrics:[...e,...r],productionSchema:L(e),productionMetricConfigs:b(e),productionGraphConfigs:_(e),devMetricConfigs:b(r),devGraphConfigs:_(r)}}const l=e=>e*100,Y=[{dataKey:"reha_empty_beds",dataType:"number",nullable:!0,displayName:"空床数",unit:"床",chartable:!0,chartColor:"blue",chartMaxY:30,decimalPlaces:0,order:1,source:"self"},{dataKey:"reha_bed_usage",dataType:"percent",nullable:!0,displayName:"病床利用率",unit:"%",formatter:o,chartable:!0,chartColor:"green",chartMaxY:100,decimalPlaces:1,transform:l,order:2,source:"self"},{dataKey:"reha_performance_index",dataType:"number",nullable:!0,displayName:"実績指数",unit:"",formatter:D,chartable:!0,chartColor:"purple",chartMaxY:60,decimalPlaces:1,order:3,source:"self"},{dataKey:"reha_home_admission_rate",dataType:"percent",nullable:!0,displayName:"在宅からの入院率",unit:"%",formatter:o,chartable:!0,chartColor:"teal",chartMaxY:100,decimalPlaces:1,transform:l,order:4,source:"self"},{dataKey:"reha_home_return_rate",dataType:"percent",nullable:!0,displayName:"在宅復帰率",unit:"%",formatter:o,chartable:!0,chartColor:"orange",chartMaxY:100,decimalPlaces:1,transform:l,order:5,source:"self"},{dataKey:"reha_ext_long_stay_patients",dataType:"number",nullable:!0,displayName:"長期入院患者数",unit:"人",chartable:!0,chartColor:"red",chartMaxY:20,decimalPlaces:0,order:6,source:"external"},{dataKey:"reha_ext_bed_usage",dataType:"percent",nullable:!0,displayName:"病床利用率（他施設）",unit:"%",formatter:o,chartable:!0,chartColor:"darkblue",chartMaxY:100,decimalPlaces:1,transform:l,order:7,source:"external"}],k=[{dataKey:"dev_reha_count",dataType:"number",nullable:!0,displayName:"リハビリ実施件数",unit:"件",chartable:!0,chartColor:"blue",chartMaxY:100,decimalPlaces:0,order:201,isDev:!0},{dataKey:"dev_discharge_count",dataType:"number",nullable:!0,displayName:"退院患者数",unit:"人",chartable:!0,chartColor:"green",chartMaxY:30,decimalPlaces:0,order:202,isDev:!0},{dataKey:"dev_new_admission",dataType:"number",nullable:!0,displayName:"新規入院数",unit:"人",chartable:!0,chartColor:"purple",chartMaxY:30,decimalPlaces:0,order:203,isDev:!0}],A=S(Y,k),ae=A.productionMetricConfigs,ne=A.productionGraphConfigs;function a(e,r){return e===void 0||e===""?r:["true","1","yes","on"].includes(e.toLowerCase())}const w=a("true",!0),U=a("true",!0),H=a("false",!1),j=a("false",!1),z=a("false",!1);function i(e){return!e||e.trim()===""?null:new Set(e.split(",").map(r=>r.trim()).filter(r=>r.length>0))}const oe={whitelist:i("kyoritsu"),blacklist:i("")},ie={whitelist:i(""),blacklist:i("")},se={whitelist:i(""),blacklist:i("")};function le(e,r){return r.whitelist!==null?r.whitelist.has(e):r.blacklist!==null?!r.blacklist.has(e):!0}function u(e,r){return a(e,r)}const ue={kyoritsu:u("true",!0),reha:u("true",!0),ayame:u("false",!1),meiji:u("false",!1)};function c(e,r){try{return JSON.parse(e)}catch{return r}}const d={board_tab:w,data_tab:U,report_tab:H,auth_enabled:j,board_group_selector:z},ce={kyoritsu:c('{"board_tab":true,"data_tab":true,"report_tab":false,"auth_enabled":false,"board_group_selector":false}',d),reha:c('{"board_tab":true,"data_tab":true,"report_tab":false,"auth_enabled":false,"board_group_selector":false}',d),ayame:c('{"board_tab":true,"data_tab":true,"report_tab":false,"auth_enabled":false,"board_group_selector":false}',d),meiji:c('{"board_tab":true,"data_tab":true,"report_tab":false,"auth_enabled":false,"board_group_selector":false}',d)};"/demo".split(",").filter(Boolean);a("true",!1);export{oe as B,H as E,se as G,ie as M,ne as R,re as S,ue as a,U as b,w as c,j as d,z as e,ae as f,te as g,S as h,le as i,o as j,B as k,ee as l,ce as m};
