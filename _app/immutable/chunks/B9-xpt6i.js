import{j as pn,k as bn,l as Nn,S as yn,c as xn,m as Le,d as Se,i as _n,n as Cn}from"./7QimJVlU.js";import"./DsnmJJEf.js";import{a1 as En,E as Vn,bc as Sn,bd as Pn,K as Tn,k as In,be as kn,a9 as Rn,am as Dn,v as j,aE as Kt,p as O,aU as T,d as E,g as d,a as N,b as K,u as _,c as I,r as P,f as R,b5 as Q,b7 as Ft,b8 as Bn,b9 as wn,t as W,ay as Ye,M as dt,S as An,j as Ln,x as Te,s as L,bf as Mn,aV as On}from"./Dj_qSXc_.js";import{f as Kn,d as le,e as Fn,s as U}from"./DGrEk6DV.js";import{b as ee,a as ae,c as Ie,s as ve}from"./PczVBC9G.js";import{i as M,r as te,l as ct,s as ut,p as ie,c as J,I as jn}from"./Cie8SrI_.js";import{g as jt}from"./D_zn7YC-.js";import{r as Hn}from"./BOB1Kmbl.js";import{c as Ht,m as ne,l as Gn,o as Wn,d as Gt,u as Yn,b as Un,I as ht,s as ft,P as gt,a as $n,X as Wt,e as Ue,D as we}from"./CCr0WPC9.js";import{s as A}from"./cMrtn-FD.js";import{D as Ge,ak as Me,Z as Oe,b as Xn,al as zn,am as Vt,K as tt,an as ge,ao as nt,U as it,d as xe,ap as Ke,aq as rt,ar as We,J as qn,as as Ce,at as St,au as Jn,h as Zn,p as Pt,aj as at,g as w,y as Ae,a1 as he,a5 as Fe,q as Qn,R as er,v as tr,x as nr,a as rr,av as Tt}from"./YvPky1bd.js";import"./CyAkH-4i.js";import"./Xc-oeaWZ.js";import{t as ar,c as or,d as sr}from"./_vGz1ruN.js";const ir=()=>performance.now(),se={tick:n=>requestAnimationFrame(n),now:()=>ir(),tasks:new Set};function Yt(){const n=se.now();se.tasks.forEach(e=>{e.c(n)||(se.tasks.delete(e),e.f())}),se.tasks.size!==0&&se.tick(Yt)}function lr(n){let e;return se.tasks.size===0&&se.tick(Yt),{promise:new Promise(t=>{se.tasks.add(e={c:n,f:t})}),abort(){se.tasks.delete(e)}}}function $e(n,e){Kt(()=>{n.dispatchEvent(new CustomEvent(e))})}function dr(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function It(n){const e={},t=n.split(";");for(const r of t){const[a,o]=r.split(":");if(!a||o===void 0)break;const s=dr(a.trim());e[s]=o.trim()}return e}const cr=n=>n;function ot(n,e,t,r){var a=(n&kn)!==0,o="both",s,i=e.inert,c=e.style.overflow,v,b;function y(){return Kt(()=>s??=t()(e,r?.()??{},{direction:o}))}var p={is_global:a,in(){e.inert=i,v=lt(e,y(),b,1,()=>{$e(e,"introend"),v?.abort(),v=s=void 0,e.style.overflow=c})},out(f){e.inert=!0,b=lt(e,y(),v,0,()=>{$e(e,"outroend"),f?.()})},stop:()=>{v?.abort(),b?.abort()}},g=En;if((g.nodes.t??=[]).push(p),Kn){var h=a;if(!h){for(var u=g.parent;u&&(u.f&Vn)!==0;)for(;(u=u.parent)&&(u.f&Sn)===0;);h=!u||(u.f&Pn)!==0}h&&Tn(()=>{In(()=>p.in())})}}function lt(n,e,t,r,a){var o=r===1;if(Rn(e)){var s,i=!1;return Dn(()=>{if(!i){var f=e({direction:o?"in":"out"});s=lt(n,f,t,r,a)}}),{abort:()=>{i=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(t?.deactivate(),!e?.duration&&!e?.delay)return $e(n,o?"introstart":"outrostart"),a(),{abort:j,deactivate:j,reset:j,t:()=>r};const{delay:c=0,css:v,tick:b,easing:y=cr}=e;var p=[];if(o&&t===void 0&&(b&&b(0,1),v)){var g=It(v(0,1));p.push(g,g)}var h=()=>1-r,u=n.animate(p,{duration:c,fill:"forwards"});return u.onfinish=()=>{u.cancel(),$e(n,o?"introstart":"outrostart");var f=t?.t()??1-r;t?.abort();var l=r-f,m=e.duration*Math.abs(l),x=[];if(m>0){var S=!1;if(v)for(var k=Math.ceil(m/16.666666666666668),D=0;D<=k;D+=1){var B=f+l*y(D/k),C=It(v(B,1-B));x.push(C),S||=C.overflow==="hidden"}S&&(n.style.overflow="hidden"),h=()=>{var F=u.currentTime;return f+l*y(F/m)},b&&lr(()=>{if(u.playState!=="running")return!1;var F=h();return b(F,1-F),!0})}u=n.animate(x,{duration:m,fill:"forwards"}),u.onfinish=()=>{h=()=>r,b?.(r,1-r),a()}},{abort:()=>{u&&(u.cancel(),u.effect=null,u.onfinish=j)},deactivate:()=>{a=j},reset:()=>{r===0&&b?.(1,0)},t:()=>h()}}var ur=Object.defineProperty,hr=(n,e,t)=>e in n?ur(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e,t)=>hr(n,typeof e!="symbol"?e+"":e,t);function Ut(n,e,t){for(let r=0;r<e.length;r++)n=t.getChildren(n,e.slice(r+1))[e[r]];return n}function fr(n){const e=gr(n),t=[],r=new Set;for(const a of e){const o=a.join();r.has(o)||(r.add(o),t.push(a))}return t}function $t(n,e){for(let t=0;t<Math.min(n.length,e.length);t++){if(n[t]<e[t])return-1;if(n[t]>e[t])return 1}return n.length-e.length}function gr(n){return n.sort($t)}function vr(n,e){let t;return z(n,{...e,onEnter:(r,a)=>{if(e.predicate(r,a))return t=r,"stop"}}),t}function mr(n,e){const t=[];return z(n,{onEnter:(r,a)=>{e.predicate(r,a)&&t.push(r)},getChildren:e.getChildren}),t}function kt(n,e){let t;return z(n,{onEnter:(r,a)=>{if(e.predicate(r,a))return t=[...a],"stop"},getChildren:e.getChildren}),t}function pr(n,e){let t=e.initialResult;return z(n,{...e,onEnter:(r,a)=>{t=e.nextResult(t,r,a)}}),t}function br(n,e){return pr(n,{...e,initialResult:[],nextResult:(t,r,a)=>(t.push(...e.transform(r,a)),t)})}function Nr(n,e){const{predicate:t,create:r,getChildren:a}=e,o=(s,i)=>{const c=a(s,i),v=[];c.forEach((g,h)=>{const u=[...i,h],f=o(g,u);f&&v.push(f)});const b=i.length===0,y=t(s,i),p=v.length>0;return b||y||p?r(s,v,i):null};return o(n,[])||r(n,[],[])}function yr(n,e){const t=[];let r=0;const a=new Map,o=new Map;return z(n,{getChildren:e.getChildren,onEnter:(s,i)=>{a.has(s)||a.set(s,r++);const c=e.getChildren(s,i);c.forEach(g=>{o.has(g)||o.set(g,s),a.has(g)||a.set(g,r++)});const v=c.length>0?c.map(g=>a.get(g)):void 0,b=o.get(s),y=b?a.get(b):void 0,p=a.get(s);t.push({...s,_children:v,_parent:y,_index:p})}}),t}function xr(n,e){return{type:"insert",index:n,nodes:e}}function _r(n){return{type:"remove",indexes:n}}function vt(){return{type:"replace"}}function Xt(n){return[n.slice(0,-1),n[n.length-1]]}function zt(n,e,t=new Map){const[r,a]=Xt(n);for(let s=r.length-1;s>=0;s--){const i=r.slice(0,s).join();t.get(i)?.type!=="remove"&&t.set(i,vt())}const o=t.get(r.join());return o?.type==="remove"?t.set(r.join(),{type:"removeThenInsert",removeIndexes:o.indexes,insertIndex:a,insertNodes:e}):t.set(r.join(),xr(a,e)),t}function qt(n){const e=new Map,t=new Map;for(const r of n){const a=r.slice(0,-1).join(),o=t.get(a)??[];o.push(r[r.length-1]),t.set(a,o.sort((s,i)=>s-i))}for(const r of n)for(let a=r.length-2;a>=0;a--){const o=r.slice(0,a).join();e.has(o)||e.set(o,vt())}for(const[r,a]of t)e.set(r,_r(a));return e}function Cr(n,e){const t=new Map,[r,a]=Xt(n);for(let o=r.length-1;o>=0;o--){const s=r.slice(0,o).join();t.set(s,vt())}return t.set(r.join(),{type:"removeThenInsert",removeIndexes:[a],insertIndex:a,insertNodes:[e]}),t}function ze(n,e,t){return Er(n,{...t,getChildren:(r,a)=>{const o=a.join();switch(e.get(o)?.type){case"replace":case"remove":case"removeThenInsert":case"insert":return t.getChildren(r,a);default:return[]}},transform:(r,a,o)=>{const s=o.join(),i=e.get(s);switch(i?.type){case"remove":return t.create(r,a.filter((b,y)=>!i.indexes.includes(y)),o);case"removeThenInsert":const c=a.filter((b,y)=>!i.removeIndexes.includes(y)),v=i.removeIndexes.reduce((b,y)=>y<b?b-1:b,i.insertIndex);return t.create(r,Rt(c,v,0,...i.insertNodes),o);case"insert":return t.create(r,Rt(a,i.index,0,...i.nodes),o);case"replace":return t.create(r,a,o);default:return r}}})}function Rt(n,e,t,...r){return[...n.slice(0,e),...r,...n.slice(e+t)]}function Er(n,e){const t={};return z(n,{...e,onLeave:(r,a)=>{const o=[0,...a],s=o.join(),i=e.transform(r,t[s]??[],a),c=o.slice(0,-1).join(),v=t[c]??[];v.push(i),t[c]=v}}),t[""][0]}function Vr(n,e){const{nodes:t,at:r}=e;if(r.length===0)throw new Error("Can't insert nodes at the root");const a=zt(r,t);return ze(n,a,e)}function Sr(n,e){if(e.at.length===0)return e.node;const t=Cr(e.at,e.node);return ze(n,t,e)}function Pr(n,e){if(e.indexPaths.length===0)return n;for(const r of e.indexPaths)if(r.length===0)throw new Error("Can't remove the root node");const t=qt(e.indexPaths);return ze(n,t,e)}function Tr(n,e){if(e.indexPaths.length===0)return n;for(const o of e.indexPaths)if(o.length===0)throw new Error("Can't move the root node");if(e.to.length===0)throw new Error("Can't move nodes to the root");const t=fr(e.indexPaths),r=t.map(o=>Ut(n,o,e)),a=zt(e.to,r,qt(t));return ze(n,a,e)}function z(n,e){const{onEnter:t,onLeave:r,getChildren:a}=e;let o=[],s=[{node:n}];const i=e.reuseIndexPath?()=>o:()=>o.slice();for(;s.length>0;){let c=s[s.length-1];if(c.state===void 0){const b=t?.(c.node,i());if(b==="stop")return;c.state=b==="skip"?-1:0}const v=c.children||a(c.node,i());if(c.children||(c.children=v),c.state!==-1){if(c.state<v.length){let y=c.state;o.push(y),s.push({node:v[y]}),c.state=y+1;continue}if(r?.(c.node,i())==="stop")return}o.pop(),s.pop()}}var Jt=class Zt{constructor(e){this.options=e,V(this,"rootNode"),V(this,"isEqual",t=>Ge(this.rootNode,t.rootNode)),V(this,"getNodeChildren",t=>this.options.nodeToChildren?.(t)??Pe.nodeToChildren(t)??[]),V(this,"resolveIndexPath",t=>typeof t=="string"?this.getIndexPath(t):t),V(this,"resolveNode",t=>{const r=this.resolveIndexPath(t);return r?this.at(r):void 0}),V(this,"getNodeChildrenCount",t=>this.options.nodeToChildrenCount?.(t)??Pe.nodeToChildrenCount(t)),V(this,"getNodeValue",t=>this.options.nodeToValue?.(t)??Pe.nodeToValue(t)),V(this,"getNodeDisabled",t=>this.options.isNodeDisabled?.(t)??Pe.isNodeDisabled(t)),V(this,"stringify",t=>{const r=this.findNode(t);return r?this.stringifyNode(r):null}),V(this,"stringifyNode",t=>this.options.nodeToString?.(t)??Pe.nodeToString(t)),V(this,"getFirstNode",(t=this.rootNode)=>{let r;return z(t,{getChildren:this.getNodeChildren,onEnter:(a,o)=>{if(!r&&o.length>0&&!this.getNodeDisabled(a))return r=a,"stop"}}),r}),V(this,"getLastNode",(t=this.rootNode,r={})=>{let a;return z(t,{getChildren:this.getNodeChildren,onEnter:(o,s)=>{if(!this.isSameNode(o,t)){if(r.skip?.({value:this.getNodeValue(o),node:o,indexPath:s}))return"skip";s.length>0&&!this.getNodeDisabled(o)&&(a=o)}}}),a}),V(this,"at",t=>Ut(this.rootNode,t,{getChildren:this.getNodeChildren})),V(this,"findNode",(t,r=this.rootNode)=>vr(r,{getChildren:this.getNodeChildren,predicate:a=>this.getNodeValue(a)===t})),V(this,"findNodes",(t,r=this.rootNode)=>{const a=new Set(t.filter(o=>o!=null));return mr(r,{getChildren:this.getNodeChildren,predicate:o=>a.has(this.getNodeValue(o))})}),V(this,"sort",t=>t.reduce((r,a)=>{const o=this.getIndexPath(a);return o&&r.push({value:a,indexPath:o}),r},[]).sort((r,a)=>$t(r.indexPath,a.indexPath)).map(({value:r})=>r)),V(this,"getIndexPath",t=>kt(this.rootNode,{getChildren:this.getNodeChildren,predicate:r=>this.getNodeValue(r)===t})),V(this,"getValue",t=>{const r=this.at(t);return r?this.getNodeValue(r):void 0}),V(this,"getValuePath",t=>{if(!t)return[];const r=[];let a=[...t];for(;a.length>0;){const o=this.at(a);o&&r.unshift(this.getNodeValue(o)),a.pop()}return r}),V(this,"getDepth",t=>kt(this.rootNode,{getChildren:this.getNodeChildren,predicate:a=>this.getNodeValue(a)===t})?.length??0),V(this,"isSameNode",(t,r)=>this.getNodeValue(t)===this.getNodeValue(r)),V(this,"isRootNode",t=>this.isSameNode(t,this.rootNode)),V(this,"contains",(t,r)=>!t||!r?!1:r.slice(0,t.length).every((a,o)=>t[o]===r[o])),V(this,"getNextNode",(t,r={})=>{let a=!1,o;return z(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(s,i)=>{if(this.isRootNode(s))return;const c=this.getNodeValue(s);if(r.skip?.({value:c,node:s,indexPath:i}))return c===t&&(a=!0),"skip";if(a&&!this.getNodeDisabled(s))return o=s,"stop";c===t&&(a=!0)}}),o}),V(this,"getPreviousNode",(t,r={})=>{let a,o=!1;return z(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(s,i)=>{if(this.isRootNode(s))return;const c=this.getNodeValue(s);if(r.skip?.({value:c,node:s,indexPath:i}))return"skip";if(c===t)return o=!0,"stop";this.getNodeDisabled(s)||(a=s)}}),o?a:void 0}),V(this,"getParentNodes",t=>{const r=this.resolveIndexPath(t)?.slice();if(!r)return[];const a=[];for(;r.length>0;){r.pop();const o=this.at(r);o&&!this.isRootNode(o)&&a.unshift(o)}return a}),V(this,"getDescendantNodes",(t,r)=>{const a=this.resolveNode(t);if(!a)return[];const o=[];return z(a,{getChildren:this.getNodeChildren,onEnter:(s,i)=>{i.length!==0&&(!r?.withBranch&&this.isBranchNode(s)||o.push(s))}}),o}),V(this,"getDescendantValues",(t,r)=>this.getDescendantNodes(t,r).map(o=>this.getNodeValue(o))),V(this,"getParentIndexPath",t=>t.slice(0,-1)),V(this,"getParentNode",t=>{const r=this.resolveIndexPath(t);return r?this.at(this.getParentIndexPath(r)):void 0}),V(this,"visit",t=>{const{skip:r,...a}=t;z(this.rootNode,{...a,getChildren:this.getNodeChildren,onEnter:(o,s)=>{if(!this.isRootNode(o))return r?.({value:this.getNodeValue(o),node:o,indexPath:s})?"skip":a.onEnter?.(o,s)}})}),V(this,"getPreviousSibling",t=>{const r=this.getParentNode(t);if(!r)return;const a=this.getNodeChildren(r);let o=t[t.length-1];for(;--o>=0;){const s=a[o];if(!this.getNodeDisabled(s))return s}}),V(this,"getNextSibling",t=>{const r=this.getParentNode(t);if(!r)return;const a=this.getNodeChildren(r);let o=t[t.length-1];for(;++o<a.length;){const s=a[o];if(!this.getNodeDisabled(s))return s}}),V(this,"getSiblingNodes",t=>{const r=this.getParentNode(t);return r?this.getNodeChildren(r):[]}),V(this,"getValues",(t=this.rootNode)=>br(t,{getChildren:this.getNodeChildren,transform:a=>[this.getNodeValue(a)]}).slice(1)),V(this,"isValidDepth",(t,r)=>r==null?!0:typeof r=="function"?r(t.length):t.length===r),V(this,"isBranchNode",t=>this.getNodeChildren(t).length>0||this.getNodeChildrenCount(t)!=null),V(this,"getBranchValues",(t=this.rootNode,r={})=>{let a=[];return z(t,{getChildren:this.getNodeChildren,onEnter:(o,s)=>{if(s.length===0)return;const i=this.getNodeValue(o);if(r.skip?.({value:i,node:o,indexPath:s}))return"skip";this.isBranchNode(o)&&this.isValidDepth(s,r.depth)&&a.push(this.getNodeValue(o))}}),a}),V(this,"flatten",(t=this.rootNode)=>yr(t,{getChildren:this.getNodeChildren})),V(this,"_create",(t,r)=>this.getNodeChildren(t).length>0||r.length>0?{...t,children:r}:{...t}),V(this,"_insert",(t,r,a)=>this.copy(Vr(t,{at:r,nodes:a,getChildren:this.getNodeChildren,create:this._create}))),V(this,"copy",t=>new Zt({...this.options,rootNode:t})),V(this,"_replace",(t,r,a)=>this.copy(Sr(t,{at:r,node:a,getChildren:this.getNodeChildren,create:this._create}))),V(this,"_move",(t,r,a)=>this.copy(Tr(t,{indexPaths:r,to:a,getChildren:this.getNodeChildren,create:this._create}))),V(this,"_remove",(t,r)=>this.copy(Pr(t,{indexPaths:r,getChildren:this.getNodeChildren,create:this._create}))),V(this,"replace",(t,r)=>this._replace(this.rootNode,t,r)),V(this,"remove",t=>this._remove(this.rootNode,t)),V(this,"insertBefore",(t,r)=>this.getParentNode(t)?this._insert(this.rootNode,t,r):void 0),V(this,"insertAfter",(t,r)=>{if(!this.getParentNode(t))return;const o=[...t.slice(0,-1),t[t.length-1]+1];return this._insert(this.rootNode,o,r)}),V(this,"move",(t,r)=>this._move(this.rootNode,t,r)),V(this,"filter",t=>{const r=Nr(this.rootNode,{predicate:t,getChildren:this.getNodeChildren,create:this._create});return this.copy(r)}),V(this,"toJSON",()=>this.getValues(this.rootNode)),this.rootNode=e.rootNode}},Pe={nodeToValue(n){return typeof n=="string"?n:Me(n)&&Oe(n,"value")?n.value:""},nodeToString(n){return typeof n=="string"?n:Me(n)&&Oe(n,"label")?n.label:Pe.nodeToValue(n)},isNodeDisabled(n){return Me(n)&&Oe(n,"disabled")?!!n.disabled:!1},nodeToChildren(n){return n.children},nodeToChildrenCount(n){if(Me(n)&&Oe(n,"childrenCount"))return n.childrenCount}};const de=Ht(),Z=Ht();var Ir=R("<div><!></div>");function kr(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=Z.consume(),a=de.consume(),o=_(()=>e.element),s=_(()=>e.children),i=_(()=>Q(t,["element","children"])),c=_(()=>ne(r().getBranchContentProps(a()),d(i)));var v=T(),b=E(v);{var y=g=>{var h=T(),u=E(h);A(u,()=>d(o),()=>d(c)),N(g,h)},p=g=>{var h=Ir();ee(h,()=>({...d(c)}));var u=I(h);A(u,()=>d(s)??j),P(h),N(g,h)};M(b,g=>{d(o)?g(y):g(p,!1)})}N(n,v),K()}var Rr=R("<div><!></div>");function Dr(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=Z.consume(),a=de.consume(),o=_(()=>e.element),s=_(()=>e.children),i=_(()=>Q(t,["element","children"])),c=_(()=>ne(r().getBranchControlProps(a()),d(i)));var v=T(),b=E(v);{var y=g=>{var h=T(),u=E(h);A(u,()=>d(o),()=>d(c)),N(g,h)},p=g=>{var h=Rr();ee(h,()=>({...d(c)}));var u=I(h);A(u,()=>d(s)??j),P(h),N(g,h)};M(b,g=>{d(o)?g(y):g(p,!1)})}N(n,v),K()}var Br=R("<div><!></div>");function wr(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=Z.consume(),a=de.consume(),o=_(()=>e.element),s=_(()=>e.children),i=_(()=>Q(t,["element","children"])),c=_(()=>ne(r().getBranchIndentGuideProps(a()),d(i)));var v=T(),b=E(v);{var y=g=>{var h=T(),u=E(h);A(u,()=>d(o),()=>d(c)),N(g,h)},p=g=>{var h=Br();ee(h,()=>({...d(c)}));var u=I(h);A(u,()=>d(s)??j),P(h),N(g,h)};M(b,g=>{d(o)?g(y):g(p,!1)})}N(n,v),K()}const Ar=n=>{Gn(n,{class:"size-4"})};var Lr=R("<span><!></span>");function Mr(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=Z.consume(),a=de.consume(),o=_(()=>e.element),s=_(()=>Ft(e.children,Ar)),i=_(()=>Q(t,["element","children"])),c=_(()=>ne(r().getBranchIndicatorProps(a()),d(i)));var v=T(),b=E(v);{var y=g=>{var h=T(),u=E(h);A(u,()=>d(o),()=>d(c)),N(g,h)},p=g=>{var h=Lr();ee(h,()=>({...d(c)}));var u=I(h);A(u,()=>d(s)??j),P(h),N(g,h)};M(b,g=>{d(o)?g(y):g(p,!1)})}N(n,v),K()}var Or=R("<span><!></span>");function Kr(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=Z.consume(),a=de.consume(),o=_(()=>e.element),s=_(()=>e.children),i=_(()=>Q(t,["element","children"])),c=_(()=>ne(r().getBranchTextProps(a()),d(i)));var v=T(),b=E(v);{var y=g=>{var h=T(),u=E(h);A(u,()=>d(o),()=>d(c)),N(g,h)},p=g=>{var h=Or();ee(h,()=>({...d(c)}));var u=I(h);A(u,()=>d(s)??j),P(h),N(g,h)};M(b,g=>{d(o)?g(y):g(p,!1)})}N(n,v),K()}var Fr=R("<div><!></div>");function jr(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=Z.consume(),a=de.consume(),o=_(()=>e.element),s=_(()=>e.children),i=_(()=>Q(t,["element","children"])),c=_(()=>ne(r().getBranchProps(a()),d(i)));var v=T(),b=E(v);{var y=g=>{var h=T(),u=E(h);A(u,()=>d(o),()=>d(c)),N(g,h)},p=g=>{var h=Fr();ee(h,()=>({...d(c)}));var u=I(h);A(u,()=>d(s)??j),P(h),N(g,h)};M(b,g=>{d(o)?g(y):g(p,!1)})}N(n,v),K()}var Hr=R("<div><!></div>");function Gr(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=Z.consume(),a=de.consume(),o=_(()=>e.element),s=_(()=>e.children),i=_(()=>Q(t,["element","children"])),c=_(()=>ne(r().getItemProps(a()),d(i)));var v=T(),b=E(v);{var y=g=>{var h=T(),u=E(h);A(u,()=>d(o),()=>d(c)),N(g,h)},p=g=>{var h=Hr();ee(h,()=>({...d(c)}));var u=I(h);A(u,()=>d(s)??j),P(h),N(g,h)};M(b,g=>{d(o)?g(y):g(p,!1)})}N(n,v),K()}function Wr(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=Z.consume(),a=_(()=>Ft(e.level,3)),o=_(()=>e.element),s=_(()=>e.children),i=_(()=>Q(t,["level","element","children"])),c=_(()=>ne(r().getLabelProps(),d(i))),v=_(()=>`h${d(a)}`);var b=T(),y=E(b);{var p=h=>{var u=T(),f=E(u);A(f,()=>d(o),()=>d(c)),N(h,u)},g=h=>{var u=T(),f=E(u);Wn(f,()=>d(v),!1,(l,m)=>{ee(l,()=>({...d(c)}));var x=T(),S=E(x);A(S,()=>d(s)??j),N(m,x)}),N(h,u)};M(y,h=>{d(o)?h(p):h(g,!1)})}N(n,b),K()}function Yr(n,e){O(e,!0);const t=de.consume(),r=_(()=>e.children);var a=T(),o=E(a);A(o,()=>d(r),()=>t),N(n,a),K()}function Ur(n,e){O(e,!0);const t=_(()=>e.children),r=_(()=>e.value);de.provide(()=>d(r));var a=T(),o=E(a);A(o,()=>d(t)??j),N(n,a),K()}function $r(n,e){O(e,!0);const t=Z.consume(),r=_(()=>e.children);var a=T(),o=E(a);A(o,()=>d(r),()=>t),N(n,a),K()}var Xr=rr("tree-view").parts("branch","branchContent","branchControl","branchIndentGuide","branchIndicator","branchText","branchTrigger","item","itemIndicator","itemText","label","nodeCheckbox","nodeRenameInput","root","tree"),Y=Xr.build(),mt=n=>new Jt(n);mt.empty=()=>new Jt({rootNode:{children:[]}});var zr=n=>n.ids?.root??`tree:${n.id}:root`,Dt=n=>n.ids?.label??`tree:${n.id}:label`,pt=(n,e)=>n.ids?.node?.(e)??`tree:${n.id}:node:${e}`,st=n=>n.ids?.tree??`tree:${n.id}:tree`,H=(n,e)=>{e!=null&&n.getById(pt(n,e))?.focus()},Qt=(n,e)=>`tree:${n.id}:rename-input:${e}`,Bt=(n,e)=>n.getById(Qt(n,e));function en(n,e,t){const r=n.getNodeValue(e);if(!n.isBranchNode(e))return t.includes(r);const a=n.getDescendantValues(r),o=a.every(i=>t.includes(i)),s=a.some(i=>t.includes(i));return o?!0:s?"indeterminate":!1}function qr(n,e,t){const r=n.getDescendantValues(e),a=r.every(o=>t.includes(o));return ge(a?We(t,...r):Ce(t,...r))}function Jr(n,e){const t=new Map;return n.visit({onEnter:r=>{const a=n.getNodeValue(r),o=n.isBranchNode(r),s=en(n,r,e);t.set(a,{type:o?"branch":"leaf",checked:s})}}),t}function Zr(n,e){const{context:t,scope:r,computed:a,prop:o,send:s}=n,i=o("collection"),c=Array.from(t.get("expandedValue")),v=Array.from(t.get("selectedValue")),b=Array.from(t.get("checkedValue")),y=a("isTypingAhead"),p=t.get("focusedValue"),g=t.get("loadingStatus"),h=t.get("renamingValue");function u(f){const{node:l,indexPath:m}=f,x=i.getNodeValue(l),S=i.getFirstNode(),k=S?i.getNodeValue(S):null;return{id:pt(r,x),value:x,indexPath:m,valuePath:i.getValuePath(m),disabled:!!l.disabled,focused:p==null?k==x:p===x,selected:v.includes(x),expanded:c.includes(x),loading:g[x]==="loading",depth:m.length,isBranch:i.isBranchNode(l),renaming:h===x,get checked(){return en(i,l,b)}}}return{collection:i,expandedValue:c,selectedValue:v,checkedValue:b,toggleChecked(f,l){s({type:"CHECKED.TOGGLE",value:f,isBranch:l})},setChecked(f){s({type:"CHECKED.SET",value:f})},clearChecked(){s({type:"CHECKED.CLEAR"})},getCheckedMap(){return Jr(i,b)},expand(f){s({type:f?"BRANCH.EXPAND":"EXPANDED.ALL",value:f})},collapse(f){s({type:f?"BRANCH.COLLAPSE":"EXPANDED.CLEAR",value:f})},deselect(f){s({type:f?"NODE.DESELECT":"SELECTED.CLEAR",value:f})},select(f){s({type:f?"NODE.SELECT":"SELECTED.ALL",value:f,isTrusted:!1})},getVisibleNodes(){return a("visibleNodes")},focus(f){H(r,f)},selectParent(f){const l=i.getParentNode(f);if(!l)return;const m=Ce(v,i.getNodeValue(l));s({type:"SELECTED.SET",value:m,src:"select.parent"})},expandParent(f){const l=i.getParentNode(f);if(!l)return;const m=Ce(c,i.getNodeValue(l));s({type:"EXPANDED.SET",value:m,src:"expand.parent"})},setExpandedValue(f){const l=ge(f);s({type:"EXPANDED.SET",value:l})},setSelectedValue(f){const l=ge(f);s({type:"SELECTED.SET",value:l})},startRenaming(f){s({type:"NODE.RENAME",value:f})},submitRenaming(f,l){s({type:"RENAME.SUBMIT",value:f,label:l})},cancelRenaming(){s({type:"RENAME.CANCEL"})},getRootProps(){return e.element({...Y.root.attrs,id:zr(r),dir:o("dir")})},getLabelProps(){return e.element({...Y.label.attrs,id:Dt(r),dir:o("dir")})},getTreeProps(){return e.element({...Y.tree.attrs,id:st(r),dir:o("dir"),role:"tree","aria-label":"Tree View","aria-labelledby":Dt(r),"aria-multiselectable":o("selectionMode")==="multiple"||void 0,tabIndex:-1,onKeyDown(f){if(f.defaultPrevented||Pt(f))return;const l=Qn(f);if(er(l))return;const m=l?.closest("[data-part=branch-control], [data-part=item]");if(!m)return;const x=m.dataset.value;if(x==null){console.warn("[zag-js/tree-view] Node id not found for node",m);return}const S=m.matches("[data-part=branch-control]"),k={ArrowDown(C){he(C)||(C.preventDefault(),s({type:"NODE.ARROW_DOWN",id:x,shiftKey:C.shiftKey}))},ArrowUp(C){he(C)||(C.preventDefault(),s({type:"NODE.ARROW_UP",id:x,shiftKey:C.shiftKey}))},ArrowLeft(C){he(C)||m.dataset.disabled||(C.preventDefault(),s({type:S?"BRANCH_NODE.ARROW_LEFT":"NODE.ARROW_LEFT",id:x}))},ArrowRight(C){!S||m.dataset.disabled||(C.preventDefault(),s({type:"BRANCH_NODE.ARROW_RIGHT",id:x}))},Home(C){he(C)||(C.preventDefault(),s({type:"NODE.HOME",id:x,shiftKey:C.shiftKey}))},End(C){he(C)||(C.preventDefault(),s({type:"NODE.END",id:x,shiftKey:C.shiftKey}))},Space(C){m.dataset.disabled||(y?s({type:"TREE.TYPEAHEAD",key:C.key}):k.Enter?.(C))},Enter(C){m.dataset.disabled||Ae(l)&&he(C)||(s({type:S?"BRANCH_NODE.CLICK":"NODE.CLICK",id:x,src:"keyboard"}),Ae(l)||C.preventDefault())},"*"(C){m.dataset.disabled||(C.preventDefault(),s({type:"SIBLINGS.EXPAND",id:x}))},a(C){!C.metaKey||m.dataset.disabled||(C.preventDefault(),s({type:"SELECTED.ALL",moveFocus:!0}))},F2(C){if(m.dataset.disabled)return;const F=o("canRename");if(!F)return;const G=i.getIndexPath(x);if(G){const q=i.at(G);if(q&&!F(q,G))return}C.preventDefault(),s({type:"NODE.RENAME",value:x})}},D=tr(f,{dir:o("dir")}),B=k[D];if(B){B(f);return}it.isValidEvent(f)&&(s({type:"TREE.TYPEAHEAD",key:f.key,id:x}),f.preventDefault())}})},getNodeState:u,getItemProps(f){const l=u(f);return e.element({...Y.item.attrs,id:l.id,dir:o("dir"),"data-ownedby":st(r),"data-path":f.indexPath.join("/"),"data-value":l.value,tabIndex:l.focused?0:-1,"data-focus":w(l.focused),role:"treeitem","aria-current":l.selected?"true":void 0,"aria-selected":l.disabled?void 0:l.selected,"data-selected":w(l.selected),"aria-disabled":Fe(l.disabled),"data-disabled":w(l.disabled),"data-renaming":w(l.renaming),"aria-level":l.depth,"data-depth":l.depth,style:{"--depth":l.depth},onFocus(m){m.stopPropagation(),s({type:"NODE.FOCUS",id:l.value})},onClick(m){if(l.disabled||!at(m)||Ae(m.currentTarget)&&he(m))return;const x=m.metaKey||m.ctrlKey;s({type:"NODE.CLICK",id:l.value,shiftKey:m.shiftKey,ctrlKey:x}),m.stopPropagation(),Ae(m.currentTarget)||m.preventDefault()}})},getItemTextProps(f){const l=u(f);return e.element({...Y.itemText.attrs,"data-disabled":w(l.disabled),"data-selected":w(l.selected),"data-focus":w(l.focused)})},getItemIndicatorProps(f){const l=u(f);return e.element({...Y.itemIndicator.attrs,"aria-hidden":!0,"data-disabled":w(l.disabled),"data-selected":w(l.selected),"data-focus":w(l.focused),hidden:!l.selected})},getBranchProps(f){const l=u(f);return e.element({...Y.branch.attrs,"data-depth":l.depth,dir:o("dir"),"data-branch":l.value,role:"treeitem","data-ownedby":st(r),"data-value":l.value,"aria-level":l.depth,"aria-selected":l.disabled?void 0:l.selected,"data-path":f.indexPath.join("/"),"data-selected":w(l.selected),"aria-expanded":l.expanded,"data-state":l.expanded?"open":"closed","aria-disabled":Fe(l.disabled),"data-disabled":w(l.disabled),"data-loading":w(l.loading),"aria-busy":Fe(l.loading),style:{"--depth":l.depth}})},getBranchIndicatorProps(f){const l=u(f);return e.element({...Y.branchIndicator.attrs,"aria-hidden":!0,"data-state":l.expanded?"open":"closed","data-disabled":w(l.disabled),"data-selected":w(l.selected),"data-focus":w(l.focused),"data-loading":w(l.loading)})},getBranchTriggerProps(f){const l=u(f);return e.element({...Y.branchTrigger.attrs,role:"button",dir:o("dir"),"data-disabled":w(l.disabled),"data-state":l.expanded?"open":"closed","data-value":l.value,"data-loading":w(l.loading),disabled:l.loading,onClick(m){l.disabled||l.loading||(s({type:"BRANCH_TOGGLE.CLICK",id:l.value}),m.stopPropagation())}})},getBranchControlProps(f){const l=u(f);return e.element({...Y.branchControl.attrs,role:"button",id:l.id,dir:o("dir"),tabIndex:l.focused?0:-1,"data-path":f.indexPath.join("/"),"data-state":l.expanded?"open":"closed","data-disabled":w(l.disabled),"data-selected":w(l.selected),"data-focus":w(l.focused),"data-renaming":w(l.renaming),"data-value":l.value,"data-depth":l.depth,"data-loading":w(l.loading),"aria-busy":Fe(l.loading),onFocus(m){s({type:"NODE.FOCUS",id:l.value}),m.stopPropagation()},onClick(m){if(l.disabled||l.loading||!at(m)||Ae(m.currentTarget)&&he(m))return;const x=m.metaKey||m.ctrlKey;s({type:"BRANCH_NODE.CLICK",id:l.value,shiftKey:m.shiftKey,ctrlKey:x}),m.stopPropagation()}})},getBranchTextProps(f){const l=u(f);return e.element({...Y.branchText.attrs,dir:o("dir"),"data-disabled":w(l.disabled),"data-state":l.expanded?"open":"closed","data-loading":w(l.loading)})},getBranchContentProps(f){const l=u(f);return e.element({...Y.branchContent.attrs,role:"group",dir:o("dir"),"data-state":l.expanded?"open":"closed","data-depth":l.depth,"data-path":f.indexPath.join("/"),"data-value":l.value,hidden:!l.expanded})},getBranchIndentGuideProps(f){const l=u(f);return e.element({...Y.branchIndentGuide.attrs,"data-depth":l.depth})},getNodeCheckboxProps(f){const l=u(f),m=l.checked;return e.element({...Y.nodeCheckbox.attrs,tabIndex:-1,role:"checkbox","data-state":m===!0?"checked":m===!1?"unchecked":"indeterminate","aria-checked":m===!0?"true":m===!1?"false":"mixed","data-disabled":w(l.disabled),onClick(x){if(x.defaultPrevented||l.disabled||!at(x))return;s({type:"CHECKED.TOGGLE",value:l.value,isBranch:l.isBranch}),x.stopPropagation(),x.currentTarget.closest("[role=treeitem]")?.focus({preventScroll:!0})}})},getNodeRenameInputProps(f){const l=u(f);return e.input({...Y.nodeRenameInput.attrs,id:Qt(r,l.value),type:"text","aria-label":"Rename tree item",hidden:!l.renaming,onKeyDown(m){Pt(m)||(m.key==="Escape"&&(s({type:"RENAME.CANCEL"}),m.preventDefault()),m.key==="Enter"&&(s({type:"RENAME.SUBMIT",label:m.currentTarget.value}),m.preventDefault()),m.stopPropagation())},onBlur(m){s({type:"RENAME.SUBMIT",label:m.currentTarget.value})}})}}}function je(n,e){const{context:t,prop:r,refs:a}=n;if(!r("loadChildren")){t.set("expandedValue",u=>ge(Ce(u,...e)));return}const o=t.get("loadingStatus"),[s,i]=St(e,u=>o[u]==="loaded");if(s.length>0&&t.set("expandedValue",u=>ge(Ce(u,...s))),i.length===0)return;const c=r("collection"),[v,b]=St(i,u=>{const f=c.findNode(u);return c.getNodeChildren(f).length>0});if(v.length>0&&t.set("expandedValue",u=>ge(Ce(u,...v))),b.length===0)return;t.set("loadingStatus",u=>({...u,...b.reduce((f,l)=>({...f,[l]:"loading"}),{})}));const y=b.map(u=>{const f=c.getIndexPath(u),l=c.getValuePath(f),m=c.findNode(u);return{id:u,indexPath:f,valuePath:l,node:m}}),p=a.get("pendingAborts"),g=r("loadChildren");Jn(g,()=>"[zag-js/tree-view] `loadChildren` is required for async expansion");const h=y.map(({id:u,indexPath:f,valuePath:l,node:m})=>{const x=p.get(u);x&&(x.abort(),p.delete(u));const S=new AbortController;return p.set(u,S),g({valuePath:l,indexPath:f,node:m,signal:S.signal})});Promise.allSettled(h).then(u=>{const f=[],l=[],m=t.get("loadingStatus");let x=r("collection");u.forEach((S,k)=>{const{id:D,indexPath:B,node:C,valuePath:F}=y[k];S.status==="fulfilled"?(m[D]="loaded",f.push(D),x=x.replace(B,{...C,children:S.value})):(p.delete(D),Reflect.deleteProperty(m,D),l.push({node:C,error:S.reason,indexPath:B,valuePath:F}))}),t.set("loadingStatus",m),f.length&&(t.set("expandedValue",S=>ge(Ce(S,...f))),r("onLoadChildrenComplete")?.({collection:x})),l.length&&r("onLoadChildrenError")?.({nodes:l})})}function fe(n){const{prop:e,context:t}=n;return function({indexPath:a}){return e("collection").getValuePath(a).slice(0,-1).some(s=>!t.get("expandedValue").includes(s))}}var{and:re}=Zn(),Qr=Xn({props({props:n}){return{selectionMode:"single",collection:mt.empty(),typeahead:!0,expandOnClick:!0,defaultExpandedValue:[],defaultSelectedValue:[],...n}},initialState(){return"idle"},context({prop:n,bindable:e,getContext:t}){return{expandedValue:e(()=>({defaultValue:n("defaultExpandedValue"),value:n("expandedValue"),isEqual:Ge,onChange(r){const o=t().get("focusedValue");n("onExpandedChange")?.({expandedValue:r,focusedValue:o,get expandedNodes(){return n("collection").findNodes(r)}})}})),selectedValue:e(()=>({defaultValue:n("defaultSelectedValue"),value:n("selectedValue"),isEqual:Ge,onChange(r){const o=t().get("focusedValue");n("onSelectionChange")?.({selectedValue:r,focusedValue:o,get selectedNodes(){return n("collection").findNodes(r)}})}})),focusedValue:e(()=>({defaultValue:n("defaultFocusedValue")||null,value:n("focusedValue"),onChange(r){n("onFocusChange")?.({focusedValue:r,get focusedNode(){return r?n("collection").findNode(r):null}})}})),loadingStatus:e(()=>({defaultValue:{}})),checkedValue:e(()=>({defaultValue:n("defaultCheckedValue")||[],value:n("checkedValue"),isEqual:Ge,onChange(r){n("onCheckedChange")?.({checkedValue:r})}})),renamingValue:e(()=>({sync:!0,defaultValue:null}))}},refs(){return{typeaheadState:{...it.defaultOptions},pendingAborts:new Map}},computed:{isMultipleSelection:({prop:n})=>n("selectionMode")==="multiple",isTypingAhead:({refs:n})=>n.get("typeaheadState").keysSoFar.length>0,visibleNodes:({prop:n,context:e})=>{const t=[];return n("collection").visit({skip:fe({prop:n,context:e}),onEnter:(r,a)=>{t.push({node:r,indexPath:a})}}),t}},on:{"EXPANDED.SET":{actions:["setExpanded"]},"EXPANDED.CLEAR":{actions:["clearExpanded"]},"EXPANDED.ALL":{actions:["expandAllBranches"]},"BRANCH.EXPAND":{actions:["expandBranches"]},"BRANCH.COLLAPSE":{actions:["collapseBranches"]},"SELECTED.SET":{actions:["setSelected"]},"SELECTED.ALL":[{guard:re("isMultipleSelection","moveFocus"),actions:["selectAllNodes","focusTreeLastNode"]},{guard:"isMultipleSelection",actions:["selectAllNodes"]}],"SELECTED.CLEAR":{actions:["clearSelected"]},"NODE.SELECT":{actions:["selectNode"]},"NODE.DESELECT":{actions:["deselectNode"]},"CHECKED.TOGGLE":{actions:["toggleChecked"]},"CHECKED.SET":{actions:["setChecked"]},"CHECKED.CLEAR":{actions:["clearChecked"]},"NODE.FOCUS":{actions:["setFocusedNode"]},"NODE.ARROW_DOWN":[{guard:re("isShiftKey","isMultipleSelection"),actions:["focusTreeNextNode","extendSelectionToNextNode"]},{actions:["focusTreeNextNode"]}],"NODE.ARROW_UP":[{guard:re("isShiftKey","isMultipleSelection"),actions:["focusTreePrevNode","extendSelectionToPrevNode"]},{actions:["focusTreePrevNode"]}],"NODE.ARROW_LEFT":{actions:["focusBranchNode"]},"BRANCH_NODE.ARROW_LEFT":[{guard:"isBranchExpanded",actions:["collapseBranch"]},{actions:["focusBranchNode"]}],"BRANCH_NODE.ARROW_RIGHT":[{guard:re("isBranchFocused","isBranchExpanded"),actions:["focusBranchFirstNode"]},{actions:["expandBranch"]}],"SIBLINGS.EXPAND":{actions:["expandSiblingBranches"]},"NODE.HOME":[{guard:re("isShiftKey","isMultipleSelection"),actions:["extendSelectionToFirstNode","focusTreeFirstNode"]},{actions:["focusTreeFirstNode"]}],"NODE.END":[{guard:re("isShiftKey","isMultipleSelection"),actions:["extendSelectionToLastNode","focusTreeLastNode"]},{actions:["focusTreeLastNode"]}],"NODE.CLICK":[{guard:re("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:re("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{actions:["selectNode"]}],"BRANCH_NODE.CLICK":[{guard:re("isCtrlKey","isMultipleSelection"),actions:["toggleNodeSelection"]},{guard:re("isShiftKey","isMultipleSelection"),actions:["extendSelectionToNode"]},{guard:"expandOnClick",actions:["selectNode","toggleBranchNode"]},{actions:["selectNode"]}],"BRANCH_TOGGLE.CLICK":{actions:["toggleBranchNode"]},"TREE.TYPEAHEAD":{actions:["focusMatchedNode"]}},exit:["clearPendingAborts"],states:{idle:{on:{"NODE.RENAME":{target:"renaming",actions:["setRenamingValue"]}}},renaming:{entry:["syncRenameInput","focusRenameInput"],on:{"RENAME.SUBMIT":{guard:"isRenameLabelValid",target:"idle",actions:["submitRenaming"]},"RENAME.CANCEL":{target:"idle",actions:["cancelRenaming"]}}}},implementations:{guards:{isBranchFocused:({context:n,event:e})=>n.get("focusedValue")===e.id,isBranchExpanded:({context:n,event:e})=>n.get("expandedValue").includes(e.id),isShiftKey:({event:n})=>n.shiftKey,isCtrlKey:({event:n})=>n.ctrlKey,hasSelectedItems:({context:n})=>n.get("selectedValue").length>0,isMultipleSelection:({prop:n})=>n("selectionMode")==="multiple",moveFocus:({event:n})=>!!n.moveFocus,expandOnClick:({prop:n})=>!!n("expandOnClick"),isRenameLabelValid:({event:n})=>n.label.trim()!==""},actions:{selectNode({context:n,event:e}){const t=e.id||e.value;n.set("selectedValue",r=>t==null?r:!e.isTrusted&&Ke(t)?r.concat(...t):[Ke(t)?qn(t):t].filter(Boolean))},deselectNode({context:n,event:e}){const t=rt(e.id||e.value);n.set("selectedValue",r=>We(r,...t))},setFocusedNode({context:n,event:e}){n.set("focusedValue",e.id)},clearFocusedNode({context:n}){n.set("focusedValue",null)},clearSelectedItem({context:n}){n.set("selectedValue",[])},toggleBranchNode({context:n,event:e,action:t}){const r=n.get("expandedValue").includes(e.id);t(r?["collapseBranch"]:["expandBranch"])},expandBranch(n){const{event:e}=n;je(n,[e.id])},expandBranches(n){const{context:e,event:t}=n,r=rt(t.value);je(n,nt(r,e.get("expandedValue")))},collapseBranch({context:n,event:e}){n.set("expandedValue",t=>We(t,e.id))},collapseBranches(n){const{context:e,event:t}=n,r=rt(t.value);e.set("expandedValue",a=>We(a,...r))},setExpanded({context:n,event:e}){Ke(e.value)&&n.set("expandedValue",e.value)},clearExpanded({context:n}){n.set("expandedValue",[])},setSelected({context:n,event:e}){Ke(e.value)&&n.set("selectedValue",e.value)},clearSelected({context:n}){n.set("selectedValue",[])},focusTreeFirstNode(n){const{prop:e,scope:t}=n,r=e("collection"),a=r.getFirstNode(),o=r.getNodeValue(a);_e(n,o)?xe(()=>H(t,o)):H(t,o)},focusTreeLastNode(n){const{prop:e,scope:t}=n,r=e("collection"),a=r.getLastNode(void 0,{skip:fe(n)}),o=r.getNodeValue(a);_e(n,o)?xe(()=>H(t,o)):H(t,o)},focusBranchFirstNode(n){const{event:e,prop:t,scope:r}=n,a=t("collection"),o=a.findNode(e.id),s=a.getFirstNode(o),i=a.getNodeValue(s);_e(n,i)?xe(()=>H(r,i)):H(r,i)},focusTreeNextNode(n){const{event:e,prop:t,scope:r}=n,a=t("collection"),o=a.getNextNode(e.id,{skip:fe(n)});if(!o)return;const s=a.getNodeValue(o);_e(n,s)?xe(()=>H(r,s)):H(r,s)},focusTreePrevNode(n){const{event:e,prop:t,scope:r}=n,a=t("collection"),o=a.getPreviousNode(e.id,{skip:fe(n)});if(!o)return;const s=a.getNodeValue(o);_e(n,s)?xe(()=>H(r,s)):H(r,s)},focusBranchNode(n){const{event:e,prop:t,scope:r}=n,a=t("collection"),o=a.getParentNode(e.id),s=o?a.getNodeValue(o):void 0;if(!s)return;_e(n,s)?xe(()=>H(r,s)):H(r,s)},selectAllNodes({context:n,prop:e}){n.set("selectedValue",e("collection").getValues())},focusMatchedNode(n){const{context:e,prop:t,refs:r,event:a,scope:o,computed:s}=n,c=s("visibleNodes").map(({node:y})=>({textContent:t("collection").stringifyNode(y),id:t("collection").getNodeValue(y)})),v=it(c,{state:r.get("typeaheadState"),activeId:e.get("focusedValue"),key:a.key});if(!v?.id)return;_e(n,v.id)?xe(()=>H(o,v.id)):H(o,v.id)},toggleNodeSelection({context:n,event:e}){const t=Vt(n.get("selectedValue"),e.id);n.set("selectedValue",t)},expandAllBranches(n){const{context:e,prop:t}=n,r=t("collection").getBranchValues(),a=nt(r,e.get("expandedValue"));je(n,a)},expandSiblingBranches(n){const{context:e,event:t,prop:r}=n,a=r("collection"),o=a.getIndexPath(t.id);if(!o)return;const i=a.getSiblingNodes(o).map(v=>a.getNodeValue(v)),c=nt(i,e.get("expandedValue"));je(n,c)},extendSelectionToNode(n){const{context:e,event:t,prop:r,computed:a}=n,o=r("collection"),s=tt(e.get("selectedValue"))||o.getNodeValue(o.getFirstNode()),i=t.id;let c=[s,i],v=0;a("visibleNodes").forEach(({node:y})=>{const p=o.getNodeValue(y);v===1&&c.push(p),(p===s||p===i)&&v++}),e.set("selectedValue",ge(c))},extendSelectionToNextNode(n){const{context:e,event:t,prop:r}=n,a=r("collection"),o=a.getNextNode(t.id,{skip:fe(n)});if(!o)return;const s=new Set(e.get("selectedValue")),i=a.getNodeValue(o);i!=null&&(s.has(t.id)&&s.has(i)?s.delete(t.id):s.has(i)||s.add(i),e.set("selectedValue",Array.from(s)))},extendSelectionToPrevNode(n){const{context:e,event:t,prop:r}=n,a=r("collection"),o=a.getPreviousNode(t.id,{skip:fe(n)});if(!o)return;const s=new Set(e.get("selectedValue")),i=a.getNodeValue(o);i!=null&&(s.has(t.id)&&s.has(i)?s.delete(t.id):s.has(i)||s.add(i),e.set("selectedValue",Array.from(s)))},extendSelectionToFirstNode(n){const{context:e,prop:t}=n,r=t("collection"),a=tt(e.get("selectedValue")),o=[];r.visit({skip:fe(n),onEnter:s=>{const i=r.getNodeValue(s);if(o.push(i),i===a)return"stop"}}),e.set("selectedValue",o)},extendSelectionToLastNode(n){const{context:e,prop:t}=n,r=t("collection"),a=tt(e.get("selectedValue")),o=[];let s=!1;r.visit({skip:fe(n),onEnter:i=>{const c=r.getNodeValue(i);c===a&&(s=!0),s&&o.push(c)}}),e.set("selectedValue",o)},clearPendingAborts({refs:n}){const e=n.get("pendingAborts");e.forEach(t=>t.abort()),e.clear()},toggleChecked({context:n,event:e,prop:t}){const r=t("collection");n.set("checkedValue",a=>e.isBranch?qr(r,e.value,a):Vt(a,e.value))},setChecked({context:n,event:e}){n.set("checkedValue",e.value)},clearChecked({context:n}){n.set("checkedValue",[])},setRenamingValue({context:n,event:e,prop:t}){n.set("renamingValue",e.value);const r=t("onRenameStart");if(r){const a=t("collection"),o=a.getIndexPath(e.value);if(o){const s=a.at(o);s&&r({value:e.value,node:s,indexPath:o})}}},submitRenaming({context:n,event:e,prop:t,scope:r}){const a=n.get("renamingValue");if(!a)return;const s=t("collection").getIndexPath(a);if(!s)return;const i=e.label.trim(),c=t("onBeforeRename");if(c&&!c({value:a,label:i,indexPath:s})){n.set("renamingValue",null),H(r,a);return}t("onRenameComplete")?.({value:a,label:i,indexPath:s}),n.set("renamingValue",null),H(r,a)},cancelRenaming({context:n,scope:e}){const t=n.get("renamingValue");n.set("renamingValue",null),t&&H(e,t)},syncRenameInput({context:n,scope:e,prop:t}){const r=n.get("renamingValue");if(!r)return;const a=t("collection"),o=a.findNode(r);if(!o)return;const s=a.stringifyNode(o),i=Bt(e,r);zn(i,s)},focusRenameInput({context:n,scope:e}){const t=n.get("renamingValue");if(!t)return;const r=Bt(e,t);r&&(r.focus(),r.select())}}}});function _e(n,e){const{prop:t,scope:r,computed:a}=n,o=t("scrollToIndexFn");if(!o)return!1;const s=t("collection"),i=a("visibleNodes");for(let c=0;c<i.length;c++){const{node:v,indexPath:b}=i[c];if(s.getNodeValue(v)===e)return o({index:c,node:v,indexPath:b,getElement:()=>r.getById(pt(r,e))}),!0}return!1}var ea=Gt()(["ids","collection","dir","expandedValue","expandOnClick","defaultFocusedValue","focusedValue","getRootNode","id","onExpandedChange","onFocusChange","onSelectionChange","checkedValue","selectedValue","selectionMode","typeahead","defaultExpandedValue","defaultSelectedValue","defaultCheckedValue","onCheckedChange","onLoadChildrenComplete","onLoadChildrenError","loadChildren","canRename","onRenameStart","onBeforeRename","onRenameComplete","scrollToIndexFn"]),ta=nr(ea);Gt()(["node","indexPath"]);function na(n){const e=Yn(Qr,n),t=_(()=>Zr(e,Un));return()=>d(t)}var ra=R("<div><!></div>");function aa(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=_(()=>e.element),a=_(()=>e.children),o=_(()=>e.value),s=_(()=>Q(t,["element","children","value"])),i=_(()=>ne(d(o)().getRootProps(),d(s)));Z.provide(()=>d(o)());var c=T(),v=E(c);{var b=p=>{var g=T(),h=E(g);A(h,()=>d(r),()=>d(i)),N(p,g)},y=p=>{var g=ra();ee(g,()=>({...d(i)}));var h=I(g);A(h,()=>d(a)??j),P(g),N(p,g)};M(v,p=>{d(r)?p(b):p(y,!1)})}N(n,c),K()}var oa=R("<div><!></div>");function sa(n,e){const t=Bn();O(e,!0);const r=te(e,["$$slots","$$events","$$legacy"]),a=_(()=>ta(r)),o=_(()=>wn(d(a),2)),s=_(()=>d(o)[0]),i=_(()=>d(o)[1]),c=_(()=>d(i).element),v=_(()=>d(i).children),b=_(()=>Q(d(i),["element","children"])),y=na(()=>({...d(s),id:t})),p=_(()=>ne(y().getRootProps(),d(b)));Z.provide(()=>y());var g=T(),h=E(g);{var u=l=>{var m=T(),x=E(m);A(x,()=>d(c),()=>d(p)),N(l,m)},f=l=>{var m=oa();ee(m,()=>({...d(p)}));var x=I(m);A(x,()=>d(v)??j),P(m),N(l,m)};M(h,l=>{d(c)?l(u):l(f,!1)})}N(n,g),K()}var ia=R("<div><!></div>");function la(n,e){O(e,!0);const t=te(e,["$$slots","$$events","$$legacy"]),r=Z.consume(),a=_(()=>e.element),o=_(()=>e.children),s=_(()=>Q(t,["element","children"])),i=_(()=>ne(r().getTreeProps(),d(s)));var c=T(),v=E(c);{var b=p=>{var g=T(),h=E(g);A(h,()=>d(a),()=>d(i)),N(p,g)},y=p=>{var g=ia();ee(g,()=>({...d(i)}));var h=I(g);A(h,()=>d(o)??j),P(g),N(p,g)};M(v,p=>{d(a)?p(b):p(y,!1)})}N(n,c),K()}const He=Object.assign(sa,{Provider:aa,Context:$r,Tree:la,Label:Wr,NodeProvider:Ur,NodeContext:Yr,Branch:jr,BranchControl:Dr,BranchText:Kr,BranchIndicator:Mr,BranchContent:kr,BranchIndentGuide:wr,Item:Gr});function wt(n,e){const t=ct(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];ht(n,ut({name:"check"},()=>t,{get iconNode(){return r},children:(a,o)=>{var s=T(),i=E(s);ft(i,e,"default",{}),N(a,s)},$$slots:{default:!0}}))}function At(n,e){const t=ct(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"m6 9 6 6 6-6"}]];ht(n,ut({name:"chevron-down"},()=>t,{get iconNode(){return r},children:(a,o)=>{var s=T(),i=E(s);ft(i,e,"default",{}),N(a,s)},$$slots:{default:!0}}))}function da(n,e){const t=ct(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M4 5h16"}],["path",{d:"M4 12h16"}],["path",{d:"M4 19h16"}]];ht(n,ut({name:"menu"},()=>t,{get iconNode(){return r},children:(a,o)=>{var s=T(),i=E(s);ft(i,e,"default",{}),N(a,s)},$$slots:{default:!0}}))}const ca=[{dataKey:"病床利用率 (%)",dataType:"percent",nullable:!0,displayName:"病床利用率",unit:"%",formatter:bn,chartable:!0,chartColor:"blue",chartMaxY:100,decimalPlaces:1,order:1,source:"self"},{dataKey:"救急車搬入数",dataType:"number",nullable:!0,displayName:"救急車搬入数",unit:"件",chartable:!0,chartColor:"red",chartMaxY:60,decimalPlaces:0,order:2,source:"self"},{dataKey:"入院患者数",dataType:"number",nullable:!0,displayName:"入院患者数",unit:"人",chartable:!0,chartColor:"green",chartMaxY:250,decimalPlaces:0,order:3,source:"self"},{dataKey:"退院予定数",dataType:"number",nullable:!0,displayName:"退院予定数",unit:"人",chartable:!0,chartColor:"purple",chartMaxY:50,decimalPlaces:0,order:4,source:"self"},{dataKey:"一般病棟在院数",dataType:"number",nullable:!0,displayName:"一般病棟在院数",unit:"人",chartable:!0,chartColor:"teal",chartMaxY:220,decimalPlaces:0,order:5,source:"self"},{dataKey:"集中治療室在院数",dataType:"number",nullable:!0,displayName:"集中治療室在院数",unit:"人",chartable:!0,chartColor:"orange",chartMaxY:20,decimalPlaces:0,order:6,source:"self"},{dataKey:"平均在院日数",dataType:"number",nullable:!0,displayName:"平均在院日数",unit:"日",formatter:Nn,chartable:!0,chartColor:"indigo",chartMaxY:20,decimalPlaces:1,order:7,source:"self"},{dataKey:"手術件数",dataType:"number",nullable:!0,displayName:"手術件数",unit:"件",chartable:!0,chartColor:"pink",chartMaxY:50,decimalPlaces:0,order:8,source:"self",isDev:!0,environments:["development"]},{dataKey:"長期入院患者数",dataType:"number",nullable:!0,displayName:"長期入院患者数",unit:"人",chartable:!0,chartColor:"amber",chartMaxY:20,decimalPlaces:0,order:9,source:"self",isDev:!0,environments:["development"]}],ua=[{dataKey:"dev_inpatients",dataType:"number",nullable:!0,displayName:"入院患者数",unit:"人",chartable:!0,chartColor:"blue",chartMaxY:25,decimalPlaces:0,order:101,isDev:!0},{dataKey:"dev_surgeries",dataType:"number",nullable:!0,displayName:"手術件数",unit:"件",chartable:!0,chartColor:"green",chartMaxY:15,decimalPlaces:0,order:102,isDev:!0},{dataKey:"dev_general_anesthesia",dataType:"number",nullable:!0,displayName:"全身麻酔手術件数",unit:"件",chartable:!0,chartColor:"purple",chartMaxY:10,decimalPlaces:0,order:103,isDev:!0},{dataKey:"dev_robot_surgeries",dataType:"number",nullable:!0,displayName:"ロボット手術件数",unit:"件",chartable:!0,chartColor:"teal",chartMaxY:5,decimalPlaces:0,order:104,isDev:!0},{dataKey:"dev_ambulance_cases",dataType:"number",nullable:!0,displayName:"救急車受け入れ件数",unit:"件",chartable:!0,chartColor:"red",chartMaxY:20,decimalPlaces:0,order:105,isDev:!0},{dataKey:"dev_referrals",dataType:"number",nullable:!0,displayName:"紹介件数",unit:"件",chartable:!0,chartColor:"orange",chartMaxY:15,decimalPlaces:0,order:106,isDev:!0}];pn(ca,ua);var ha=R('<!> <span class="text-xs font-medium">ライト</span>',1),fa=R('<!> <span class="text-xs font-medium">ダーク</span>',1),ga=R('<button type="button"><!></button>');function va(n,e){O(e,!0);let t=ie(e,"variant",3,"toolbar");const r=_(sr),a=_(or),o=_(()=>d(r)?`テーマ: ${d(r)}`:"テーマ: システム設定"),s="flex items-center gap-2 rounded-lg border border-default px-3 py-2 text-tertiary transition-colors hover-bg-subtle",i=_(()=>t()==="hamburger"?`w-full ${s}`:s);var c=ga();c.__click=function(...p){ar?.apply(this,p)};var v=I(c);{var b=p=>{var g=ha(),h=E(g);yn(h,{class:"size-5"}),Ye(2),N(p,g)},y=p=>{var g=fa(),h=E(g);xn(h,{class:"size-5"}),Ye(2),N(p,g)};M(v,p=>{d(a)==="light"?p(b):p(y,!1)})}P(c),W(()=>{ae(c,1,Ie(d(i))),ve(c,"aria-label",d(o)),ve(c,"title",d(o))}),N(n,c),K()}le(["click"]);const tn=[{slug:"kyoritsu",name:"戸畑共立病院",shortName:"共立",disabled:!Le.kyoritsu},{slug:"reha",name:"戸畑リハビリテーション病院",shortName:"リハ",disabled:!Le.reha},{slug:"ayame",name:"あやめの里",shortName:"あやめ",disabled:!Le.ayame},{slug:"meiji",name:"明治町クリニック",shortName:"明治町",disabled:!Le.meiji}],ma=n=>n;function nn(n){const e=n-1;return e*e*e+1}function Lt(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}function Mt(n,{delay:e=0,duration:t=400,easing:r=ma}={}){const a=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:o=>`opacity: ${o*a}`}}function pa(n,{delay:e=0,duration:t=400,easing:r=nn,x:a=0,y:o=0,opacity:s=0}={}){const i=getComputedStyle(n),c=+i.opacity,v=i.transform==="none"?"":i.transform,b=c*(1-s),[y,p]=Lt(a),[g,h]=Lt(o);return{delay:e,duration:t,easing:r,css:(u,f)=>`
			transform: ${v} translate(${(1-u)*y}${p}, ${(1-u)*g}${h});
			opacity: ${c-b*f}`}}function mo(n,{delay:e=0,duration:t=400,easing:r=nn,start:a=0,opacity:o=0}={}){const s=getComputedStyle(n),i=+s.opacity,c=s.transform==="none"?"":s.transform,v=1-a,b=i*(1-o);return{delay:e,duration:t,easing:r,css:(y,p)=>`
			transform: ${c} scale(${1-v*p});
			opacity: ${i-b*p}
		`}}var ba=R('<span class="badge-pill-dark"> </span>'),Na=R('<div class="border-divider flex items-center justify-between border-b px-6 py-4"><div class="flex items-center gap-3"><h2 id="sheet-title" class="text-primary text-lg font-bold"> </h2> <!></div> <!></div>'),ya=R('<div class="flex-1 overflow-y-auto px-6 py-4"><!></div>'),xa=R('<div role="dialog" aria-modal="true" aria-labelledby="sheet-title"><!> <!></div>'),_a=R('<div role="dialog" aria-modal="true" aria-labelledby="sheet-title"><!> <!></div>'),Ca=R('<button class="fixed inset-0 z-50 bg-black/50 backdrop-blur-sm md:bg-black/30" aria-label="背景をクリックして閉じる" tabindex="0"></button> <!>',1);function Ea(n,e){O(e,!0);const t=p=>{var g=Na(),h=I(g),u=I(h),f=I(u,!0);P(u);var l=L(u,2);{var m=S=>{var k=ba(),D=I(k,!0);P(k),W(()=>U(D,e.headerBadge)),N(S,k)};M(l,S=>{e.headerBadge&&S(m)})}P(h);var x=L(h,2);$n(x,{get icon(){return Wt},size:"base",variant:"ghost",ariaLabel:"閉じる",onclick:i,class:"focus-ring-blue -mr-2"}),P(g),W(()=>U(f,e.title)),N(p,g)},r=p=>{var g=ya(),h=I(g);A(h,()=>e.children??j),P(g),N(p,g)};let a=ie(e,"open",15,!1),o=dt(An(window.innerWidth<Tt.md));Ln(()=>{const p=()=>{Te(o,window.innerWidth<Tt.md)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)});const s="bottom-sheet";function i(){a(!1),e.onOpenChange?.(!1)}function c(p){p.key==="Escape"&&a()&&i()}var v=T();Fn("keydown",Mn,c);var b=E(v);{var y=p=>{gt(p,{children:(g,h)=>{var u=Ca(),f=E(u);f.__click=i;var l=L(f,2);{var m=S=>{var k=xa();ae(k,1,Ie(s));var D=I(k);t(D);var B=L(D,2);r(B),P(k),ot(3,k,()=>pa,()=>({y:200,duration:200})),N(S,k)},x=S=>{var k=_a();ae(k,1,Ie(s));var D=I(k);t(D);var B=L(D,2);r(B),P(k),ot(3,k,()=>Mt,()=>({duration:200})),N(S,k)};M(l,S=>{d(o)?S(m):S(x,!1)})}ot(3,f,()=>Mt,()=>({duration:200})),N(g,u)},$$slots:{default:!0}})};M(b,p=>{a()&&p(y)})}N(n,v),K()}le(["click"]);var Va=R('<span class="text-primary"> </span> <!>',1),Sa=R('<span class="ml-1 text-xs"> </span>'),Pa=R('<div class="text-tertiary cursor-not-allowed px-4 py-2.5 text-sm opacity-50"><span> </span> <!></div>'),Ta=R(" <!>",1),Ia=R("<!> <!>",1),ka=R('<span class="text-tertiary text-xs"> </span>'),Ra=R('<button type="button"><div class="flex items-center justify-between"><span class="text-primary font-medium"> </span> <!></div></button>'),Da=R('<div class="flex flex-col gap-3"></div>'),Ba=R('<div class="hidden md:flex"><!></div> <button type="button"><span class="text-primary"> </span> <!></button> <!>',1);function wa(n,e){O(e,!0);let t=ie(e,"triggerAriaLabel",3,"選択"),r=dt(!1);const a="flex items-center gap-2 rounded-lg border border-default bg-card px-4 py-2 text-sm font-semibold transition-colors hover-bg-moderate",o=_(()=>e.triggerClass?`${a} ${e.triggerClass}`:a),s=_(()=>e.triggerClass?`${a} md:hidden ${e.triggerClass}`:`${a} md:hidden`),i=_(()=>e.menuContentClass?`menu-dropdown ${e.menuContentClass}`:"menu-dropdown");function c(x){return e.getItemValue(x)===e.selectedValue}function v(x){return e.isItemDisabled?.(x)??!1}function b(x){v(x)||(e.onSelect(x),Te(r,!1))}var y=Ba(),p=E(y),g=I(p);Se(g,{children:(x,S)=>{var k=Ia(),D=E(k);J(D,()=>Se.Trigger,(C,F)=>{F(C,{get class(){return d(o)},get"aria-label"(){return t()},children:(G,q)=>{var ce=Va(),oe=E(ce),me=I(oe,!0);P(oe);var $=L(oe,2);At($,{size:16,strokeWidth:2.5}),W(()=>U(me,e.triggerLabel)),N(G,ce)},$$slots:{default:!0}})});var B=L(D,2);gt(B,{children:(C,F)=>{var G=T(),q=E(G);J(q,()=>Se.Positioner,(ce,oe)=>{oe(ce,{children:(me,$)=>{var ue=T(),X=E(ue);J(X,()=>Se.Content,(ke,pe)=>{pe(ke,{get class(){return d(i)},children:(be,bt)=>{var Nt=T(),sn=E(Nt);Ue(sn,17,()=>e.items,Je=>e.getItemValue(Je),(Je,Ne)=>{var yt=T(),ln=E(yt);{var dn=Ee=>{var Ve=Pa(),Re=I(Ve),Ze=I(Re,!0);P(Re);var Qe=L(Re,2);{var et=ye=>{var De=Sa(),xt=I(De);P(De),W(()=>U(xt,`(${e.disabledReason??""})`)),N(ye,De)};M(Qe,ye=>{e.disabledReason&&ye(et)})}P(Ve),W(ye=>U(Ze,ye),[()=>e.getItemLabel(d(Ne))]),N(Ee,Ve)},cn=Ee=>{var Ve=T(),Re=E(Ve);{let Ze=_(()=>e.getItemValue(d(Ne))),Qe=_(()=>c(d(Ne))?"menu-dropdown-item-active":"");J(Re,()=>Se.Item,(et,ye)=>{ye(et,{get value(){return d(Ze)},onclick:()=>b(d(Ne)),get class(){return`focus-ring-blue menu-dropdown-item ${d(Qe)??""}`},children:(De,xt)=>{var _t=T(),un=E(_t);J(un,()=>Se.ItemText,(hn,fn)=>{fn(hn,{class:"text-primary flex items-center gap-2 font-medium",children:(gn,eo)=>{Ye();var Ct=Ta(),Et=E(Ct),vn=L(Et);{var mn=Be=>{wt(Be,{size:14,class:"text-blue-500"})};M(vn,Be=>{c(d(Ne))&&Be(mn)})}W(Be=>U(Et,`${Be??""} `),[()=>e.getItemLabel(d(Ne))]),N(gn,Ct)},$$slots:{default:!0}})}),N(De,_t)},$$slots:{default:!0}})})}N(Ee,Ve)};M(ln,Ee=>{v(d(Ne))?Ee(dn):Ee(cn,!1)})}N(Je,yt)}),N(be,Nt)},$$slots:{default:!0}})}),N(me,ue)},$$slots:{default:!0}})}),N(C,G)},$$slots:{default:!0}}),N(x,k)},$$slots:{default:!0}}),P(p);var h=L(p,2);h.__click=()=>Te(r,!0);var u=I(h),f=I(u,!0);P(u);var l=L(u,2);At(l,{size:16,strokeWidth:2.5}),P(h);var m=L(h,2);Ea(m,{get title(){return e.sheetTitle},get headerBadge(){return e.sheetHeaderBadge},get open(){return d(r)},set open(x){Te(r,x,!0)},children:(x,S)=>{var k=Da();Ue(k,21,()=>e.items,D=>e.getItemValue(D),(D,B)=>{var C=Ra();C.__click=()=>b(d(B));var F=I(C),G=I(F),q=I(G,!0);P(G);var ce=L(G,2);{var oe=$=>{wt($,{size:16,class:"text-blue-500"})},me=$=>{var ue=T(),X=E(ue);{var ke=pe=>{var be=ka(),bt=I(be,!0);P(be),W(()=>U(bt,e.disabledReason)),N(pe,be)};M(X,pe=>{v(d(B))&&e.disabledReason&&pe(ke)},!0)}N($,ue)};M(ce,$=>{c(d(B))?$(oe):$(me,!1)})}P(F),P(C),W(($,ue,X)=>{ae(C,1,`focus-ring-blue w-full rounded-lg px-4 py-3 text-left transition-colors ${$??""}`),C.disabled=ue,U(q,X)},[()=>c(d(B))?"bg-blue-100 dark:bg-blue-900/40":v(d(B))?"cursor-not-allowed opacity-50":"hover-bg-moderate",()=>v(d(B)),()=>e.getItemLabel(d(B))]),N(D,C)}),P(k),N(x,k)},$$slots:{default:!0}}),W(()=>{ae(h,1,Ie(d(s))),ve(h,"aria-label",t()),U(f,e.triggerLabel)}),N(n,y),K()}le(["click"]);function Aa(n,e){return n.disabled||e&&n.slug!=="kyoritsu"}function La(n,e){return e.find(r=>r.slug===n)?.shortName??"施設を選択"}function Ma(n){return"利用不可"}function rn(n){return n.map(e=>{const t=e.boardSlug,r=Le[t]??!1;return{slug:t,name:e.scopeName,shortName:e.scopeShortName??e.scopeName,disabled:!e.isActive||!r||!_n(t,Cn)}})}function Oa(n,e){O(e,!0);const t=_(()=>e.navItems&&e.navItems.length>0?rn(e.navItems):[...tn]),r=_(()=>La(e.currentSlug,d(t))),a=Ma();function o(s){s.slug!==e.currentSlug&&jt(Hn(`/board/${s.slug}`))}wa(n,{get items(){return d(t)},get selectedValue(){return e.currentSlug},get triggerLabel(){return d(r)},getItemValue:s=>s.slug,getItemLabel:s=>s.name,isItemDisabled:s=>Aa(s,jn),get disabledReason(){return a},onSelect:o,sheetTitle:"施設を選択",triggerAriaLabel:"施設を選択"}),K()}function Xe(n,e){return n===e}function an(n){n&&jt(`/board/${n}`)}var Ka=R('<button type="button"> </button>'),Fa=R('<nav class="scrollbar-hide flex-1 overflow-x-auto" aria-label="ボード内ナビゲーション"><div class="flex gap-1"></div></nav>');function ja(n,e){O(e,!0);let t=ie(e,"items",19,()=>[]),r=ie(e,"currentSlug",3,"");var a=T(),o=E(a);{var s=i=>{var c=Fa(),v=I(c);Ue(v,21,t,b=>b.id,(b,y)=>{var p=Ka();p.__click=()=>d(y).isNavigable&&an(d(y).targetBoardSlug);var g=I(p,!0);P(p),W((h,u)=>{p.disabled=!d(y).isNavigable,ae(p,1,`rounded-md px-4 py-2 text-sm font-medium whitespace-nowrap transition-colors
						${h??""}`),ve(p,"aria-current",u),U(g,d(y).title)},[()=>Xe(d(y).targetBoardSlug,r())?"bg-surface-secondary text-primary":d(y).isNavigable?"text-tertiary hover-bg-subtle hover:text-primary":"text-tertiary cursor-not-allowed opacity-60",()=>Xe(d(y).targetBoardSlug,r())?"page":void 0]),N(b,p)}),P(v),P(c),N(i,c)};M(o,i=>{t().length>1&&i(s)})}N(n,a),K()}le(["click"]);class Ha{#e=dt(!1);get current(){return d(this.#e)}set current(e){Te(this.#e,e,!0)}reset(){Te(this.#e,!1)}}const qe=new Ha;function Ot(){return qe.current}function Ga(){qe.current=!0}function on(){qe.current=!1}function Wa(n){return n.map(e=>({slug:e.slug,name:e.name,disabled:e.disabled}))}var Ya=R('<button type="button"> </button>');function Ua(n,e){O(e,!0);let t=ie(e,"currentSlug",3,"");const r=_(()=>e.navItems&&e.navItems.length>0?rn(e.navItems):[...tn]),a=_(()=>Wa(d(r))),o=mt({nodeToValue:i=>i.slug,nodeToString:i=>i.name,rootNode:{slug:"root",name:"root",disabled:!1,get children(){return d(a)}}});function s(i,c){c||(an(i),on())}He(n,{get collection(){return o},class:"w-full",children:(i,c)=>{var v=T(),b=E(v);J(b,()=>He.Tree,(y,p)=>{p(y,{class:"w-full",children:(g,h)=>{var u=T(),f=E(u);Ue(f,19,()=>o.rootNode.children||[],l=>l.slug,(l,m,x)=>{var S=T(),k=E(S);{let D=_(()=>({node:d(m),indexPath:[d(x)]}));J(k,()=>He.NodeProvider,(B,C)=>{C(B,{get value(){return d(D)},children:(F,G)=>{var q=T(),ce=E(q);J(ce,()=>He.Item,(oe,me)=>{me(oe,{class:"block w-full",children:($,ue)=>{var X=Ya();X.__click=()=>s(d(m).slug,d(m).disabled);var ke=I(X,!0);P(X),W((pe,be)=>{X.disabled=d(m).disabled,ae(X,1,`flex w-full items-center px-6 py-2 text-left text-sm font-medium transition-colors
							${pe??""}`),ve(X,"aria-current",be),U(ke,d(m).name)},[()=>Xe(d(m).slug,t())?"bg-surface-secondary text-primary rounded-md":d(m).disabled?"text-tertiary cursor-not-allowed opacity-60":"text-secondary hover-bg-subtle hover:text-primary",()=>Xe(d(m).slug,t())?"page":void 0]),N($,X)},$$slots:{default:!0}})}),N(F,q)},$$slots:{default:!0}})})}N(l,S)}),N(g,u)},$$slots:{default:!0}})}),N(i,v)},$$slots:{default:!0}}),K()}le(["click"]);var $a=R('<div class="space-y-8 p-6"><section class="grid grid-cols-3 gap-6"><div></div> <div></div> <!></section> <section class="-mx-6"><h3 class="text-tertiary mb-3 px-6 text-sm font-semibold">施設</h3> <!></section></div>'),Xa=R('<div class="flex shrink-0 items-center justify-between p-4"><!> <div class="flex-1"></div> <!></div> <!>',1);function za(n,e){O(e,!0);const t=_(()=>qe.current);function r(a){a.open||on()}we(n,{get open(){return d(t)},onOpenChange:r,children:(a,o)=>{gt(a,{children:(s,i)=>{var c=T(),v=E(c);J(v,()=>we.Content,(b,y)=>{y(b,{class:"bg-page fixed inset-0 z-50 flex flex-col md:hidden",children:(p,g)=>{var h=Xa(),u=E(h),f=I(u);J(f,()=>we.Title,(x,S)=>{S(x,{id:"hamburger-menu-title",class:"sr-only",children:(k,D)=>{Ye();var B=On("メニュー");N(k,B)},$$slots:{default:!0}})});var l=L(f,4);J(l,()=>we.CloseTrigger,(x,S)=>{S(x,{class:"hover-bg-moderate rounded-md p-2","aria-label":"メニューを閉じる",children:(k,D)=>{Wt(k,{size:24,class:"text-secondary"})},$$slots:{default:!0}})}),P(u);var m=L(u,2);J(m,()=>we.Description,(x,S)=>{S(x,{class:"min-h-0 flex-1 overflow-y-auto",children:(k,D)=>{var B=$a(),C=I(B),F=L(I(C),4);va(F,{variant:"hamburger"}),P(C);var G=L(C,2),q=L(I(G),2);Ua(q,{get currentSlug(){return e.currentSlug},get navItems(){return e.navItems}}),P(G),P(B),N(k,B)},$$slots:{default:!0}})}),N(p,h)},$$slots:{default:!0}})}),N(s,c)},$$slots:{default:!0}})},$$slots:{default:!0}}),K()}var qa=R('<nav aria-label="ボードナビゲーション" class="sticky-header-nav border-default bg-card border-b px-4 py-3 md:px-8"><div class="flex items-center gap-4"><!> <!> <button type="button" class="hover-bg-moderate ml-auto flex shrink-0 items-center justify-center rounded-md p-2 md:hidden" aria-controls="hamburger-menu"><!></button></div></nav> <!>',1);function po(n,e){O(e,!0);let t=ie(e,"subnavItems",19,()=>[]);var r=qa(),a=E(r),o=I(a),s=I(o);Oa(s,{get currentSlug(){return e.currentSlug},get navItems(){return e.navItems}});var i=L(s,2);{let y=_(()=>e.currentSlug??"");ja(i,{get items(){return t()},get currentSlug(){return d(y)}})}var c=L(i,2);c.__click=()=>Ga();var v=I(c);da(v,{size:20,class:"text-secondary"}),P(c),P(o),P(a);var b=L(a,2);za(b,{get currentSlug(){return e.currentSlug},get navItems(){return e.navItems}}),W((y,p)=>{ve(c,"aria-label",y),ve(c,"aria-expanded",p)},[()=>Ot()?"メニューを閉じる":"メニューを開く",()=>Ot()]),N(n,r),K()}le(["click"]);le(["click"]);le(["click"]);var Ja=R('<span aria-hidden="true"> </span>'),Za=R('<button type="button"><!> <span class="material-symbols-outlined text-xl" aria-hidden="true"> </span> <span class="font-semibold"> </span></button>'),Qa=R('<footer role="region" aria-label="グラフ比較操作"><!></footer>');function bo(n,e){const t=(h,u=j)=>{var f=Ja();ae(f,1,Ie(c));var l=I(f,!0);P(f),W(()=>U(l,u())),N(h,f)},r=h=>{var u=Za();u.__click=function(...D){e.onClick?.apply(this,D)},ae(u,1,Ie(i));var f=I(u);{var l=D=>{t(D,()=>e.badge)};M(f,D=>{e.badge&&D(l)})}var m=L(f,2),x=I(m,!0);P(m);var S=L(m,2),k=I(S,!0);P(S),P(u),W(()=>{ve(u,"aria-label",d(v)),U(x,a()),U(k,e.label)}),N(h,u)};let a=ie(e,"icon",3,"bar_chart"),o=ie(e,"variant",3,"default");const s=_(()=>o()==="selection"?"border-t border-primary-700 bg-primary-600 dark:bg-primary-500":"bg-surface-800 dark:bg-surface-700"),i="press-feedback relative flex h-14 w-full items-center justify-center gap-2 px-4 text-white transition-transform focus-visible:outline focus-visible:outline-2 focus-visible:outline-white/50",c="absolute left-4 flex h-5 w-5 items-center justify-center rounded-full bg-error-500 text-xs font-semibold text-white",v=_(()=>e.badge&&e.label?`${e.label}（${e.badge}個選択中）`:e.label??"アクション");var b=Qa(),y=I(b);{var p=h=>{var u=T(),f=E(u);A(f,()=>e.children),N(h,u)},g=h=>{r(h)};M(y,h=>{e.children?h(p):h(g,!1)})}P(b),W(()=>ae(b,1,`fixed inset-x-0 bottom-0 z-40 flex min-h-16 items-center justify-between gap-3 border-t border-surface-100/20 px-4 py-3 pb-[max(0.75rem,env(safe-area-inset-bottom))] shadow-lg md:hidden dark:border-surface-50/20 ${d(s)??""}`)),N(n,b)}le(["click"]);export{po as A,tn as B,At as C,Oa as F,da as M,va as T,Ea as a,bo as b,mo as s,ot as t};
