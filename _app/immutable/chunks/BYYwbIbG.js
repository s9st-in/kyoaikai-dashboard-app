import"./DsnmJJEf.js";import{n as j,aX as at,o as ot,m as it,C as lt,p as K,k as L,d as O,g as o,a as d,b as H,u as p,c as w,r as _,f as C,b2 as le,b5 as st,aP as Ke,t as W,s as F,l as ct,a6 as dt,aO as ut,ad as vt,j as Le,h as Ie,i as Se}from"./p4dYvpg6.js";import{s as R,d as He,a as ue}from"./T2Bmc5lN.js";import{i as D}from"./36Dr0qmW.js";import{b as $,a as U,d as A,s as oe}from"./Cq4yWqvx.js";import{r as ee,l as Ne,s as Pe,p as V,c as Z,W as De}from"./OQgd7Oh0.js";import{s as I}from"./BcvOLtEm.js";import"./BhIsClV-.js";import{c as gt,m as se,f as Ae,g as ft,h as pt,u as mt,b as bt,I as Re,s as ze,P as je,e as ve,i as ht}from"./CS60pbwF.js";import{X as ie,a1 as Oe,a2 as yt,q as Be,a3 as _t,d as kt,b as ye,a4 as wt,a5 as xt,a6 as Pt,i as Ot,a7 as Ct,h as Et,L as Tt,a as Mt}from"./CQy8OeFy.js";import{M as ce}from"./6V6pAoJc.js";import"./CbAJKWx5.js";import{b as Ve}from"./vwVNdKjP.js";function Lt(){return Symbol(at)}function It(t,e=j){return r=>{const{update:a,destroy:n}=ot(()=>t(r,e())??{});if(a){var i=!1;it(()=>{const l=e();i&&a(l)}),i=!0}n&&lt(n)}}function St(t,e={}){function r(a={}){const{container:n,disabled:i,getRootNode:l}=a;if(i)return;const g=l?.().ownerDocument??document;(n??g.body).appendChild(t)}return r(e),{destroy:()=>t.remove(),update:r}}function Dt(t){return!(t.metaKey||!_t()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var At=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Vt(t,e,r){const a=r?Be(r):null,n=ie(a);return t=t||a instanceof n.HTMLInputElement&&!At.has(a?.type)||a instanceof n.HTMLTextAreaElement||a instanceof n.HTMLElement&&a.isContentEditable,!(t&&e==="keyboard"&&r instanceof n.KeyboardEvent&&!Reflect.has(Ft,r.key))}var Q=null,ke=new Set,ge=new Map,J=!1,we=!1,Ft={Tab:!0,Escape:!0};function pe(t,e){for(let r of ke)r(t,e)}function fe(t){J=!0,Dt(t)&&(Q="keyboard",pe("keyboard",t))}function N(t){Q="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(J=!0,pe("pointer",t))}function Ge(t){yt(t)&&(J=!0,Q="virtual")}function qe(t){const e=Be(t);e===ie(e)||e===Oe(e)||(!J&&!we&&(Q="virtual",pe("virtual",t)),J=!1,we=!1)}function Xe(){J=!1,we=!0}function Wt(t){if(typeof window>"u"||ge.get(ie(t)))return;const e=ie(t),r=Oe(t);let a=e.HTMLElement.prototype.focus;function n(){Q="virtual",pe("virtual",null),J=!0,a.apply(this,arguments)}try{Object.defineProperty(e.HTMLElement.prototype,"focus",{configurable:!0,value:n})}catch{}r.addEventListener("keydown",fe,!0),r.addEventListener("keyup",fe,!0),r.addEventListener("click",Ge,!0),e.addEventListener("focus",qe,!0),e.addEventListener("blur",Xe,!1),typeof e.PointerEvent<"u"?(r.addEventListener("pointerdown",N,!0),r.addEventListener("pointermove",N,!0),r.addEventListener("pointerup",N,!0)):(r.addEventListener("mousedown",N,!0),r.addEventListener("mousemove",N,!0),r.addEventListener("mouseup",N,!0)),e.addEventListener("beforeunload",()=>{Kt(t)},{once:!0}),ge.set(e,{focus:a})}var Kt=(t,e)=>{const r=ie(t),a=Oe(t),n=ge.get(r);if(n){try{Object.defineProperty(r.HTMLElement.prototype,"focus",{configurable:!0,value:n.focus})}catch{}a.removeEventListener("keydown",fe,!0),a.removeEventListener("keyup",fe,!0),a.removeEventListener("click",Ge,!0),r.removeEventListener("focus",qe,!0),r.removeEventListener("blur",Xe,!1),typeof r.PointerEvent<"u"?(a.removeEventListener("pointerdown",N,!0),a.removeEventListener("pointermove",N,!0),a.removeEventListener("pointerup",N,!0)):(a.removeEventListener("mousedown",N,!0),a.removeEventListener("mousemove",N,!0),a.removeEventListener("mouseup",N,!0)),ge.delete(r)}};function xe(){return Q==="keyboard"}function Ht(t={}){const{isTextInput:e,autoFocus:r,onChange:a,root:n}=t;Wt(n),a?.({isFocusVisible:r||xe(),modality:Q});const i=(l,g)=>{Vt(!!e,l,g)&&a?.({isFocusVisible:xe(),modality:l})};return ke.add(i),()=>{ke.delete(i)}}const q=gt();var Nt=C("<div><!></div>");function Rt(t,e){K(e,!0);const r=ee(e,["$$slots","$$events","$$legacy"]),a=q.consume(),n=p(()=>e.element),i=p(()=>e.children),l=p(()=>le(r,["element","children"])),g=p(()=>se(a().getArrowTipProps(),o(l)));var h=L(),E=O(h);{var b=u=>{var s=L(),v=O(s);I(v,()=>o(n),()=>o(g)),d(u,s)},P=u=>{var s=Nt();$(s,()=>({...o(g)}));var v=w(s);I(v,()=>o(i)??j),_(s),d(u,s)};D(E,u=>{o(n)?u(b):u(P,!1)})}d(t,h),H()}var zt=C("<div><!></div>");function jt(t,e){K(e,!0);const r=ee(e,["$$slots","$$events","$$legacy"]),a=q.consume(),n=p(()=>e.element),i=p(()=>e.children),l=p(()=>le(r,["element","children"])),g=p(()=>se(a().getArrowProps(),o(l)));var h=L(),E=O(h);{var b=u=>{var s=L(),v=O(s);I(v,()=>o(n),()=>o(g)),d(u,s)},P=u=>{var s=zt();$(s,()=>({...o(g)}));var v=w(s);I(v,()=>o(i)??j),_(s),d(u,s)};D(E,u=>{o(n)?u(b):u(P,!1)})}d(t,h),H()}var Bt=C("<div><!></div>");function Gt(t,e){K(e,!0);const r=ee(e,["$$slots","$$events","$$legacy"]),a=q.consume(),n=p(()=>e.element),i=p(()=>e.children),l=p(()=>le(r,["element","children"])),g=p(()=>se(a().getContentProps(),o(l)));var h=L(),E=O(h);{var b=u=>{var s=L(),v=O(s);I(v,()=>o(n),()=>o(g)),d(u,s)},P=u=>{var s=Bt();$(s,()=>({...o(g)}));var v=w(s);I(v,()=>o(i)??j),_(s),d(u,s)};D(E,u=>{o(n)?u(b):u(P,!1)})}d(t,h),H()}var qt=C("<div><!></div>");function Xt(t,e){K(e,!0);const r=ee(e,["$$slots","$$events","$$legacy"]),a=q.consume(),n=p(()=>e.element),i=p(()=>e.children),l=p(()=>le(r,["element","children"])),g=p(()=>se(a().getPositionerProps(),{[Lt()]:It(St,()=>{})},o(l)));var h=L(),E=O(h);{var b=u=>{var s=L(),v=O(s);I(v,()=>o(n),()=>o(g)),d(u,s)},P=u=>{var s=qt();$(s,()=>({...o(g)}));var v=w(s);I(v,()=>o(i)??j),_(s),d(u,s)};D(E,u=>{o(n)?u(b):u(P,!1)})}d(t,h),H()}function Yt(t,e){K(e,!0);const r=q.consume(),a=p(()=>e.children);var n=L(),i=O(n);I(i,()=>o(a),()=>r),d(t,n),H()}var Ut=Mt("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),ne=Ut.build(),Ye=t=>t.ids?.trigger??`tooltip:${t.id}:trigger`,Jt=t=>t.ids?.content??`tooltip:${t.id}:content`,Qt=t=>t.ids?.arrow??`tooltip:${t.id}:arrow`,Ue=t=>t.ids?.positioner??`tooltip:${t.id}:popper`,_e=t=>t.getById(Ye(t)),Fe=t=>t.getById(Ue(t)),G=Pt({id:null});function Zt(t,e){const{state:r,context:a,send:n,scope:i,prop:l,event:g}=t,h=l("id"),E=!!l("aria-label"),b=r.matches("open","closing"),P=Ye(i),u=Jt(i),s=l("disabled"),v=ft({...l("positioning"),placement:a.get("currentPlacement")});return{open:b,setOpen(c){r.matches("open","closing")!==c&&n({type:c?"open":"close"})},reposition(c={}){n({type:"positioning.set",options:c})},getTriggerProps(){return e.button({...ne.trigger.attrs,id:P,dir:l("dir"),"data-expanded":Et(b),"data-state":b?"open":"closed","aria-describedby":b?u:void 0,onClick(c){c.defaultPrevented||s||l("closeOnClick")&&n({type:"close",src:"trigger.click"})},onFocus(c){queueMicrotask(()=>{c.defaultPrevented||s||g.src!=="trigger.pointerdown"&&xe()&&n({type:"open",src:"trigger.focus"})})},onBlur(c){c.defaultPrevented||s||h===G.get("id")&&n({type:"close",src:"trigger.blur"})},onPointerDown(c){c.defaultPrevented||s||Ct(c)&&l("closeOnPointerDown")&&h===G.get("id")&&n({type:"close",src:"trigger.pointerdown"})},onPointerMove(c){c.defaultPrevented||s||c.pointerType!=="touch"&&n({type:"pointer.move"})},onPointerOver(c){c.defaultPrevented||s||c.pointerType!=="touch"&&n({type:"pointer.move"})},onPointerLeave(){s||n({type:"pointer.leave"})},onPointerCancel(){s||n({type:"pointer.leave"})}})},getArrowProps(){return e.element({id:Qt(i),...ne.arrow.attrs,dir:l("dir"),style:v.arrow})},getArrowTipProps(){return e.element({...ne.arrowTip.attrs,dir:l("dir"),style:v.arrowTip})},getPositionerProps(){return e.element({id:Ue(i),...ne.positioner.attrs,dir:l("dir"),style:v.floating})},getContentProps(){return e.element({...ne.content.attrs,dir:l("dir"),hidden:!b,"data-state":b?"open":"closed",role:E?void 0:"tooltip",id:E?void 0:u,"data-placement":a.get("currentPlacement"),onPointerEnter(){n({type:"content.pointer.move"})},onPointerLeave(){n({type:"content.pointer.leave"})},style:{pointerEvents:l("interactive")?"auto":"none"}})}}}var{and:$t,not:We}=Ot(),er=kt({initialState:({prop:t})=>t("open")||t("defaultOpen")?"open":"closed",props({props:t}){const e=t.closeOnClick??!0,r=t.closeOnPointerDown??e;return{id:"x",openDelay:400,closeDelay:150,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,disabled:!1,...t,closeOnPointerDown:r,closeOnClick:e,positioning:{placement:"bottom",...t.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:t})=>({currentPlacement:t(()=>({defaultValue:void 0})),hasPointerMoveOpened:t(()=>({defaultValue:!1}))}),watch({track:t,action:e,prop:r}){t([()=>r("disabled")],()=>{e(["closeIfDisabled"])}),t([()=>r("open")],()=>{e(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:$t("noVisibleTooltip",We("hasPointerMoveOpened")),target:"opening"},{guard:We("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>G.get("id")===null,isVisible:({prop:t})=>t("id")===G.get("id"),isInteractive:({prop:t})=>!!t("interactive"),hasPointerMoveOpened:({context:t})=>t.get("hasPointerMoveOpened"),isOpenControlled:({prop:t})=>t("open")!==void 0},actions:{setGlobalId:({prop:t})=>{G.set("id",t("id"))},clearGlobalId:({prop:t})=>{t("id")===G.get("id")&&G.set("id",null)},invokeOnOpen:({prop:t})=>{t("onOpenChange")?.({open:!0})},invokeOnClose:({prop:t})=>{t("onOpenChange")?.({open:!1})},closeIfDisabled:({prop:t,send:e})=>{t("disabled")&&e({type:"close",src:"disabled.change"})},reposition:({context:t,event:e,prop:r,scope:a})=>{if(e.type!=="positioning.set")return;const n=()=>Fe(a);return Ae(_e(a),n,{...r("positioning"),...e.options,defer:!0,listeners:!1,onComplete(i){t.set("currentPlacement",i.placement)}})},toggleVisibility:({prop:t,event:e,send:r})=>{queueMicrotask(()=>{r({type:t("open")?"controlled.open":"controlled.close",previousEvent:e})})},setPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:t})=>Ht({root:t.getRootNode?.()}),trackPositioning:({context:t,prop:e,scope:r})=>{t.get("currentPlacement")||t.set("currentPlacement",e("positioning").placement);const a=()=>Fe(r);return Ae(_e(r),a,{...e("positioning"),defer:!0,onComplete(n){t.set("currentPlacement",n.placement)}})},trackPointerlockChange:({send:t,scope:e})=>{const r=e.getDoc();return ye(r,"pointerlockchange",()=>t({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:t,prop:e,scope:r})=>{if(!e("closeOnScroll"))return;const a=_e(r);if(!a)return;const i=wt(a).map(l=>ye(l,"scroll",()=>{t({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{i.forEach(l=>l?.())}},trackStore:({prop:t,send:e})=>{let r;return queueMicrotask(()=>{r=G.subscribe(()=>{G.get("id")!==t("id")&&e({type:"close",src:"id.change"})})}),()=>r?.()},trackEscapeKey:({send:t,prop:e})=>e("closeOnEscape")?ye(document,"keydown",a=>{xt(a)||a.key==="Escape"&&(a.stopPropagation(),t({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:t,prop:e})=>{const r=setTimeout(()=>{t({type:"after.openDelay"})},e("openDelay"));return()=>clearTimeout(r)},waitForCloseDelay:({send:t,prop:e})=>{const r=setTimeout(()=>{t({type:"after.closeDelay"})},e("closeDelay"));return()=>clearTimeout(r)}}}}),tr=pt()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]),rr=Tt(tr);function nr(t){const e=mt(er,t),r=p(()=>Zt(e,bt));return()=>o(r)}function ar(t,e){K(e,!0);const r=p(()=>e.children),a=p(()=>e.value);q.provide(()=>o(a)());var n=L(),i=O(n);I(i,()=>o(r)??j),d(t,n),H()}function or(t,e){const r=st();K(e,!0);const a=ee(e,["$$slots","$$events","$$legacy"]),n=p(()=>rr(a)),i=p(()=>Ke(o(n),2)),l=p(()=>o(i)[0]),g=p(()=>o(i)[1]),h=p(()=>o(g).children),E=nr(()=>({...o(l),id:r}));q.provide(()=>E());var b=L(),P=O(b);I(P,()=>o(h)??j),d(t,b),H()}var ir=C("<button><!></button>");function lr(t,e){K(e,!0);const r=ee(e,["$$slots","$$events","$$legacy"]),a=q.consume(),n=p(()=>e.element),i=p(()=>e.children),l=p(()=>le(r,["element","children"])),g=p(()=>se(a().getTriggerProps(),o(l)));var h=L(),E=O(h);{var b=u=>{var s=L(),v=O(s);I(v,()=>o(n),()=>o(g)),d(u,s)},P=u=>{var s=ir();$(s,()=>({...o(g)}));var v=w(s);I(v,()=>o(i)??j),_(s),d(u,s)};D(E,u=>{o(n)?u(b):u(P,!1)})}d(t,h),H()}const de=Object.assign(or,{Provider:ar,Context:Yt,Trigger:lr,Positioner:Xt,Content:Gt,Arrow:jt,ArrowTip:Rt});function sr(t,e){const r=Ne(e,["children","$$slots","$$events","$$legacy"]);const a=[["path",{d:"m18 15-6-6-6 6"}]];Re(t,Pe({name:"chevron-up"},()=>r,{get iconNode(){return a},children:(n,i)=>{var l=L(),g=O(l);ze(g,e,"default",{}),d(n,l)},$$slots:{default:!0}}))}function cr(t,e){const r=Ne(e,["children","$$slots","$$events","$$legacy"]);const a=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"}]];Re(t,Pe({name:"wrench"},()=>r,{get iconNode(){return a},children:(n,i)=>{var l=L(),g=O(l);ze(g,e,"default",{}),d(n,l)},$$slots:{default:!0}}))}const dr={default:"",dev:"border-dashed !border-amber-300 bg-amber-50/50 dark:!border-amber-800 dark:bg-amber-900/10",external:"ring-2 ring-blue-400 dark:ring-blue-500",warning:"ring-2 ring-orange-400 dark:ring-orange-500",success:"ring-2 ring-green-400 dark:ring-green-500"},ur={default:"bg-slate-500 text-white",dev:"bg-amber-500 text-white",external:"bg-blue-500 text-white",warning:"bg-orange-500 text-white",success:"bg-green-500 text-white"};var vr=C("<span> </span>");function gr(t,e){K(e,!0);let r=V(e,"variant",3,"default"),a=V(e,"class",3,"");const n=p(()=>ur[r()]);var i=vr(),l=w(i,!0);_(i),W(()=>{U(i,1,`absolute -top-1 -right-1 rounded px-1.5 py-0.5 text-xs font-bold ${o(n)??""} ${a()??""}`),R(l,e.text)}),d(t,i),H()}var fr=C("<!> <!>",1);function pr(t,e){const r=(i,l=j)=>{var g=L(),h=O(g);I(h,()=>e.trigger,l),d(i,g)};let a=V(e,"zIndex",3,"z-30"),n=V(e,"triggerProps",19,()=>({}));de(t,{children:(i,l)=>{var g=fr(),h=O(g);Z(h,()=>de.Trigger,(b,P)=>{P(b,Pe({get element(){return r}},n))});var E=F(h,2);je(E,{children:(b,P)=>{var u=L(),s=O(u);Z(s,()=>de.Positioner,(v,c)=>{c(v,{get class(){return a()},children:(x,T)=>{var k=L(),f=O(k);Z(f,()=>de.Content,(m,y)=>{y(m,{class:"tooltip-content",children:(M,S)=>{ct();var B=dt();W(()=>R(B,e.text)),d(M,B)},$$slots:{default:!0}})}),d(x,k)},$$slots:{default:!0}})}),d(b,u)},$$slots:{default:!0}}),d(i,g)},$$slots:{default:!0}})}function $r(t,e){if(!e)return;const r=e[t.dataKey];return{dataKey:t.dataKey,rawValue:r??"N/A",unit:t.unit||"(なし)",order:t.order}}function mr(t){return t===null?"null":t===void 0?"undefined":typeof t=="boolean"?t?"true":"false":String(t)}var br=C('<div class="flex justify-between gap-2 text-xs"><span class="font-medium text-slate-600 dark:text-slate-400"> </span> <span class="font-mono text-slate-800 dark:text-slate-200"> </span></div>'),hr=C('<div class="space-y-1"></div>'),yr=C('<div class="border-default border-t pt-2"><!></div>'),_r=C('<div class="space-y-2"><div class="border-default border-b pb-2"><span class="text-xs font-semibold text-slate-500 dark:text-slate-400">開発用ツール</span></div> <!> <!></div>'),kr=C("<!> <!>",1);function wr(t,e){K(e,!0);let r=V(e,"class",3,"");const a=p(()=>ut);var n=L(),i=O(n);{var l=g=>{ce(g,{children:(h,E)=>{var b=kr(),P=O(b);Z(P,()=>ce.Trigger,(s,v)=>{v(s,{get class(){return`absolute -top-1 -left-1 flex h-6 w-6 items-center justify-center rounded-full bg-slate-600 text-white shadow-md transition-colors hover:bg-slate-700 dark:bg-slate-500 dark:hover:bg-slate-400 ${r()??""}`},"aria-label":"開発用ツールを開く",onclick:c=>c.stopPropagation(),children:(c,x)=>{cr(c,{size:14,strokeWidth:2.5})},$$slots:{default:!0}})});var u=F(P,2);je(u,{children:(s,v)=>{var c=L(),x=O(c);Z(x,()=>ce.Positioner,(T,k)=>{k(T,{children:(f,m)=>{var y=L(),M=O(y);Z(M,()=>ce.Content,(S,B)=>{B(S,{class:"border-default bg-card z-40 max-w-[300px] min-w-[200px] rounded-lg border p-3 shadow-lg",onclick:z=>z.stopPropagation(),children:(z,me)=>{var te=_r(),Ce=F(w(te),2);{var Je=X=>{var Y=hr();ve(Y,21,()=>Object.entries(e.devInfo),([re,Ee])=>re,(re,Ee)=>{var Te=p(()=>Ke(o(Ee),2));let $e=()=>o(Te)[0],et=()=>o(Te)[1];var be=br(),he=w(be),tt=w(he);_(he);var Me=F(he,2),rt=w(Me,!0);_(Me),_(be),W(nt=>{R(tt,`${$e()??""}:`),R(rt,nt)},[()=>mr(et())]),d(re,be)}),_(Y),d(X,Y)};D(Ce,X=>{e.devInfo&&X(Je)})}var Qe=F(Ce,2);{var Ze=X=>{var Y=yr(),re=w(Y);I(re,()=>e.devContent),_(Y),d(X,Y)};D(Qe,X=>{e.devContent&&X(Ze)})}_(te),d(z,te)},$$slots:{default:!0}})}),d(f,y)},$$slots:{default:!0}})}),d(s,c)},$$slots:{default:!0}}),d(h,b)},$$slots:{default:!0}})};D(i,g=>{o(a)&&g(l)})}d(t,n),H()}var xr=C("<!> <!>",1),Pr=C("<button><!> <!></button>"),Or=C('<div class="relative h-full"><!> <!></div>'),Cr=C('<div class="relative h-full"><div><!> <!></div> <!></div>');function Er(t,e){K(e,!0);const r=c=>{var x=xr(),T=O(x);{var k=y=>{gr(y,{get text(){return e.badge},get variant(){return a()}})};D(T,y=>{e.badge&&y(k)})}var f=F(T,2);{var m=y=>{wr(y,{get devInfo(){return e.devInfo},get devContent(){return e.devContent}})};D(f,y=>{e.devInfo&&y(m)})}d(c,x)};let a=V(e,"variant",3,"default"),n=V(e,"tooltipText",3,""),i=V(e,"ariaLabel",3,""),l=V(e,"class",3,""),g=V(e,"interactiveClass",3,"focus-ring-blue press-feedback cursor-pointer transition-all hover:shadow-md"),h=V(e,"baseClass",3,"card-base"),E=V(e,"style",3,"");const b=p(()=>dr[a()]);var P=L(),u=O(P);{var s=c=>{var x=Or();let T;var k=w(x);{const y=(S,B=j)=>{var z=Pr();$(z,()=>({...B(),type:"button",class:`${h()??""} relative ${g()??""} ${o(b)??""} ${l()??""}`,style:`${E()??""}${e.scaleFactor!=null?`; --card-scale: ${e.scaleFactor}`:""}`}));var me=w(z);r(me);var te=F(me,2);I(te,()=>e.children),_(z),d(S,z)};let M=p(()=>({"aria-label":i(),onclick:e.onClick}));pr(k,{get text(){return n()},get triggerProps(){return o(M)},trigger:y,$$slots:{trigger:!0}})}var f=F(k,2);{var m=y=>{var M=L(),S=O(M);I(S,()=>e.footer),d(y,M)};D(f,y=>{e.footer&&y(m)})}_(x),W(()=>T=A(x,"",T,{"--card-scale":e.scaleFactor})),d(c,x)},v=c=>{var x=Cr();let T;var k=w(x),f=w(k);r(f);var m=F(f,2);I(m,()=>e.children),_(k);var y=F(k,2);{var M=S=>{var B=L(),z=O(B);I(z,()=>e.footer),d(S,B)};D(y,S=>{e.footer&&S(M)})}_(x),W(()=>{T=A(x,"",T,{"--card-scale":e.scaleFactor}),U(k,1,`${h()??""} relative ${o(b)??""} ${l()??""}`),A(k,`${E()??""}${e.scaleFactor!=null?`; --card-scale: ${e.scaleFactor}`:""}`)}),d(c,x)};D(u,c=>{e.onClick?c(s):c(v,!1)})}d(t,P),H()}var Tr=C('<div class="flex w-full flex-col items-end text-right"><h3 class="text-slate-700 dark:text-slate-300"> </h3> <p class="font-bold text-slate-900 dark:text-white"> </p></div>'),Mr=C('<div class="flex w-full flex-col items-center text-center"><h3 class="text-slate-700 dark:text-slate-300"> </h3> <p class="font-bold text-slate-900 dark:text-white"> </p></div>'),Lr=C('<div class="flex w-full flex-col items-start"><h3 class="text-slate-700 dark:text-slate-300"> </h3> <p class="font-bold text-slate-900 dark:text-white"> </p></div>'),Ir=C('<div class="absolute right-0 left-0"><div class="h-1 w-full overflow-hidden rounded-full bg-slate-200/80 dark:bg-slate-700/50"><div></div></div></div>'),Sr=C("<!> <!>",1);function en(t,e){let r=V(e,"variant",3,"default"),a=V(e,"gaugeColor",3,"blue"),n=V(e,"layout",3,"vertical-left");const i=p(()=>e.gaugeValue===void 0?0:Math.min(100,Math.max(0,e.gaugeValue))),l=p(()=>a()==="green"?"bg-green-400/60 dark:bg-green-500/50":"bg-blue-400/60 dark:bg-blue-500/50"),g="min-height: calc(var(--card-scale, 1) * 120px); padding: calc(var(--card-scale, 1) * 1.25rem); gap: calc(var(--card-scale, 1) * 0.25rem)";{let h=p(()=>n()==="vertical-center"?"items-center":n()==="vertical-right"?"items-end":"items-start");Er(t,{get variant(){return r()},get badge(){return e.badge},get devInfo(){return e.devInfo},get devContent(){return e.devContent},get onClick(){return e.onClick},tooltipText:"データ・グラフを見る",get ariaLabel(){return`${e.title??""}: ${e.value??""} - データ・グラフを見る`},get class(){return`flex h-full w-full flex-col justify-center ${o(h)??""}`},style:g,children:(E,b)=>{var P=Sr(),u=O(P);{var s=k=>{var f=Tr();A(f,"",{},{gap:"calc(var(--card-scale, 1) * 0.25rem)"});var m=w(f);A(m,"",{},{"font-size":"calc(var(--card-scale, 1) * 1.125rem)","line-height":"calc(var(--card-scale, 1) * 1.625rem)"});var y=w(m,!0);_(m);var M=F(m,2);A(M,"",{},{"font-size":"calc(var(--card-scale, 1) * 1.875rem)","line-height":"calc(var(--card-scale, 1) * 2.25rem)"});var S=w(M,!0);_(M),_(f),W(()=>{R(y,e.title),R(S,e.value)}),d(k,f)},v=k=>{var f=Mr();A(f,"",{},{gap:"calc(var(--card-scale, 1) * 0.25rem)"});var m=w(f);A(m,"",{},{"font-size":"calc(var(--card-scale, 1) * 1.125rem)","line-height":"calc(var(--card-scale, 1) * 1.625rem)"});var y=w(m,!0);_(m);var M=F(m,2);A(M,"",{},{"font-size":"calc(var(--card-scale, 1) * 1.875rem)","line-height":"calc(var(--card-scale, 1) * 2.25rem)"});var S=w(M,!0);_(M),_(f),W(()=>{R(y,e.title),R(S,e.value)}),d(k,f)},c=k=>{var f=Lr();A(f,"",{},{gap:"calc(var(--card-scale, 1) * 0.25rem)"});var m=w(f);A(m,"",{},{"font-size":"calc(var(--card-scale, 1) * 1.125rem)","line-height":"calc(var(--card-scale, 1) * 1.625rem)"});var y=w(m,!0);_(m);var M=F(m,2);A(M,"",{},{"font-size":"calc(var(--card-scale, 1) * 1.875rem)","line-height":"calc(var(--card-scale, 1) * 2.25rem)"});var S=w(M,!0);_(M),_(f),W(()=>{R(y,e.title),R(S,e.value)}),d(k,f)};D(u,k=>{n()==="vertical-right"?k(s):n()==="vertical-center"?k(v,1):k(c,!1)})}var x=F(u,2);{var T=k=>{var f=Ir();A(f,"",{},{bottom:"calc(var(--card-scale, 1) * 0.875rem)","padding-left":"calc(var(--card-scale, 1) * 1.25rem)","padding-right":"calc(var(--card-scale, 1) * 1.25rem)"});var m=w(f),y=w(m);_(m),_(f),W(()=>{U(y,1,`h-full rounded-full transition-[width] duration-500 ease-in-out ${o(l)??""}`),A(y,`width: ${o(i)??""}%;`)}),d(k,f)};D(x,k=>{e.gaugeValue!==void 0&&k(T)})}d(E,P)},$$slots:{default:!0}})}}const ae={closed:"bg-[#e0e0e0] dark:bg-gray-600",low:"bg-[#d0e1fd] dark:bg-blue-800/50",belowTarget:"bg-[#7ba7ee] dark:bg-blue-600/70",targetMet:"bg-[#2b5ea8] dark:bg-blue-400",full:"bg-[#0d2f6b] dark:bg-blue-300"};function Dr(t,e,r){return t.isOpen?t.used>=e?ae.full:t.used>=r?ae.targetMet:t.used>=r*.7?ae.belowTarget:ae.low:ae.closed}var Ar=C('<div role="gridcell"></div>'),Vr=C('<div role="row" tabindex="0"></div>'),Fr=C('<button type="button" class="text-tertiary hover:text-secondary flex w-full items-center justify-center py-0.5 transition-colors"><!></button>'),Wr=C('<div class="flex w-full flex-col" role="grid" aria-label="稼働率ヒートマップ"><div><div class="flex flex-col gap-1"></div></div> <!></div>');function tn(t,e){K(e,!0);const r=p(()=>Math.round(e.capacity*e.targetRate)),a=p(()=>e.weeks.length>2);let n=vt([]),i=Se(void 0);const l=68;let g=Se(0);Le(()=>{if(!o(i)||e.weeks.length<2)return;const v=n[e.weeks.length-1],c=n[e.weeks.length-2];v&&c&&Ie(g,v.offsetHeight+c.offsetHeight+4)}),Le(()=>{if(o(i))if(e.expanded){const v=n[e.selectedWeekIndex];v&&v.scrollIntoView({behavior:"smooth",block:"nearest"})}else o(i).scrollTop=o(i).scrollHeight});function h(v){return c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),e.onWeekClick?.(v))}}var E=Wr(),b=w(E),P=w(b);ve(P,21,()=>e.weeks,ht,(v,c,x)=>{var T=Vr(),k=p(()=>h(x));ve(T,21,()=>o(c),f=>f.date,(f,m)=>{var y=Ar();W(M=>{U(y,1,`h-7 w-7 justify-self-center rounded-sm shadow-[0_0.5px_1.5px_rgba(0,0,0,0.12)] dark:shadow-[0_0.5px_1.5px_rgba(0,0,0,0.35)] ${M??""}`,"svelte-741ycm"),oe(y,"title",`${De[o(m).dayOfWeek]??""} ${o(m).date??""}日: ${o(m).isOpen?`${o(m).used}名`:"休業"}`),oe(y,"aria-label",`${De[o(m).dayOfWeek]??""} ${o(m).date??""}日 ${o(m).isOpen?`${o(m).used}名`:"休業"}`)},[()=>Dr(o(m),e.capacity,o(r))]),d(f,y)}),_(T),Ve(T,(f,m)=>n[m]=f,f=>n?.[f],()=>[x]),W(()=>{U(T,1,`grid grid-cols-7 gap-1.5 rounded-md p-0.5 transition-all duration-200
						${x===e.selectedWeekIndex?"bg-blue-50/50 ring-1 ring-blue-300 dark:bg-blue-900/20 dark:ring-blue-600":"cursor-pointer opacity-60"}`),oe(T,"aria-selected",x===e.selectedWeekIndex)}),ue("click",T,f=>{f.stopPropagation(),e.onWeekClick?.(x)}),ue("keydown",T,function(...f){o(k)?.apply(this,f)}),d(v,T)}),_(P),_(b),Ve(b,v=>Ie(i,v),()=>o(i));var u=F(b,2);{var s=v=>{var c=Fr(),x=w(c);{let T=p(()=>e.expanded?"":"rotate-180");sr(x,{size:12,get class(){return`transition-transform duration-200 ${o(T)??""}`}})}_(c),W(()=>oe(c,"aria-label",e.expanded?"グリッドを閉じる":"グリッドを開く")),ue("click",c,T=>{T.stopPropagation(),e.onToggleExpand?.()}),d(v,c)};D(u,v=>{o(a)&&v(s)})}_(E),W(()=>{U(b,1,`heatmap-scroll w-full ${e.expanded?"overflow-y-auto":"overflow-hidden"}`,"svelte-741ycm"),A(b,`max-height: ${e.expanded?"180px":o(a)?`${o(g)||l}px`:"none"}`)}),d(t,E),H()}He(["click","keydown"]);var Kr=C('<button type="button" role="tab"> </button>'),Hr=C('<div class="flex gap-1" role="tablist" aria-label="週の切替"></div>');function rn(t,e){K(e,!0);const r=[{key:"lastWeek",label:"前週"},{key:"thisWeek",label:"今週"}];var a=Hr();ve(a,21,()=>r,n=>n.key,(n,i)=>{var l=Kr(),g=w(l,!0);_(l),W(()=>{oe(l,"aria-selected",e.value===o(i).key),U(l,1,`rounded-md px-3 py-1 text-xs font-medium transition-colors ${e.value===o(i).key?"bg-blue-600 text-white":"text-secondary hover:bg-surface-secondary"}`),R(g,o(i).label)}),ue("click",l,h=>{h.stopPropagation(),e.onValueChange(o(i).key)}),d(n,l)}),_(a),d(t,a),H()}He(["click"]);export{Er as C,ae as H,en as M,tn as O,pr as T,rn as W,cr as a,gr as b,mr as f,$r as g};
